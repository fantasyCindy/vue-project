!function(n){var e={};function t(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)t.d(i,r,function(e){return n[e]}.bind(null,r));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="//public/live//dist/",t(t.s=6)}([function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",i=n[3];if(!i)return t;if(e&&"function"==typeof btoa){var r=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(i),a=i.sources.map(function(n){return"/*# sourceURL="+i.sourceRoot+n+" */"});return[t].concat(a).concat([r]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<n.length;r++){var o=n[r];"number"==typeof o[0]&&i[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),e.push(o))}},e}},function(n,e,t){"use strict";function i(n,e){for(var t=[],i={},r=0;r<e.length;r++){var a=e[r],o=a[0],s={id:n+":"+r,css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):t.push(i[o]={id:o,parts:[s]})}return t}t.r(e),t.d(e,"default",function(){return h});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,l=function(){},p=null,u="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(n,e,t,r){d=t,p=r||{};var o=i(n,e);return m(o),function(e){for(var t=[],r=0;r<o.length;r++){var s=o[r];(c=a[s.id]).refs--,t.push(c)}e?m(o=i(n,e)):o=[];for(r=0;r<t.length;r++){var c;if(0===(c=t[r]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete a[c.id]}}}}function m(n){for(var e=0;e<n.length;e++){var t=n[e],i=a[t.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](t.parts[r]);for(;r<t.parts.length;r++)i.parts.push(x(t.parts[r]));i.parts.length>t.parts.length&&(i.parts.length=t.parts.length)}else{var o=[];for(r=0;r<t.parts.length;r++)o.push(x(t.parts[r]));a[t.id]={id:t.id,refs:1,parts:o}}}}function g(){var n=document.createElement("style");return n.type="text/css",o.appendChild(n),n}function x(n){var e,t,i=document.querySelector("style["+u+'~="'+n.id+'"]');if(i){if(d)return l;i.parentNode.removeChild(i)}if(f){var r=c++;i=s||(s=g()),e=v.bind(null,i,r,!1),t=v.bind(null,i,r,!0)}else i=g(),e=function(n,e){var t=e.css,i=e.media,r=e.sourceMap;i&&n.setAttribute("media",i);p.ssrId&&n.setAttribute(u,e.id);r&&(t+="\n/*# sourceURL="+r.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,i),t=function(){i.parentNode.removeChild(i)};return e(n),function(i){if(i){if(i.css===n.css&&i.media===n.media&&i.sourceMap===n.sourceMap)return;e(n=i)}else t()}}var b=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function v(n,e,t,i){var r=t?"":i.css;if(n.styleSheet)n.styleSheet.cssText=b(e,r);else{var a=document.createTextNode(r),o=n.childNodes;o[e]&&n.removeChild(o[e]),o.length?n.insertBefore(a,o[e]):n.appendChild(a)}}},function(n,e,t){"use strict";n.exports={1:"请求成功","-1":"请求繁忙",10001:"股票代码不存在",10002:"查询条件为空",20001:"用户未登录",20002:"token为空",20003:"用户名不存在",20004:"密码为空",20005:"密码不匹配",20006:"登录失败",20007:"用户不存在",20008:"操作失败",20009:"密码不一致",20010:"TOKEN 错误",20011:"参数错误",20012:"获取验证码失败",20013:"期刊ID为空",20014:"直播室ID为空",20015:"提问内容为空",20016:"直播室未开启",20017:"直播老师未关联直播室",20018:"期刊不存在",20019:"已在其他终端登陆",20020:"提问次数超出限制",20021:"该条问题已被采纳过",20022:"不是该问题提问人",30001:"手机验证码为空",30002:"图片验证码错误",30003:"手机验证码错误",30004:"账号已存在",30005:"注册异常",30006:"第三方第一次登录",30007:"第三方非法用户",30008:"手机号为空",30009:"手机号已被绑定",30010:"手机号错误",30011:"该号码不是约投顾的工作电话，慎防假冒！",40001:"参数为空",40002:"服务器异常",40003:"已点赞",40004:"评论失败",40005:"起始值为空",40006:"查询失败",40007:"请求方向格式错误",40008:"用户自选股已经存在",40009:"关注",40010:"没有此股票信息",40011:"取消关注",40012:"直播老师不存在",40013:"股票代码和名称不匹配",40014:"买入股票时资本不够",50001:"消息为空",50002:"老师不能提问",50003:"老师不能关注",60000:"支付成功",60001:"商品ID为空",60002:"商品类型为空",60003:"订单类型为空",60004:"订单ID为空",60005:"订单不存在",60006:"支付失败",60007:"签名为空",60008:"未传支付密码",60009:"支付密码错误",60010:"账户余额不足",60011:"用户没有开通账户",60012:"支付密码格式不正确",60013:"充值来源错误",60014:"订单金额类型不存在",60015:"订单金额错误",60016:"产品购买数量错误",60017:"礼物不存在",60018:"商品类型不存在",60019:"商品不存在",60020:"商品已购买",60021:"商品已付款请等待客服人员与您联系",60022:"商品未购买",60023:"商品购买时间已过",70001:"组合不存在",70002:"组合已技术评价",70003:"收益信息为空",70004:"委托记录为空",80000:"该手机号被用户举报，涉嫌违规操作，目前不能注册账号",80001:"您输入的内容违反相关规定，不能予以展示!",90000:"身份证号格式验证不通过",90001:"已通过实名制验证",90002:"还没有进行实名制验证",90003:"还没有进行风险评估",90004:"当天实名验证次数到达上线",100001:"活动注册成功",100002:"活动注册失败",100003:"活动已过期",100005:"用户不符合活动条件"}},function(n,e,t){"use strict";var i=t(9),r=t(11),a=t(4),o={};n.exports={render:function(n){console.log("osp",n);var e=this;(o=_.extend({type:0,id:null,name:"",callback:null},n)).teacherId?i.getInstance().render({onSubmit:function(n){(0==o.type?c:s)({teacherId:o.teacherId,number:n,id:o.id},function(t){"1"==t.status&&(o.url="/html/returnshortcutpayJsp.htm?orderNum="+t.data.orderNum,o.orderNum=t.data.orderNum,o.price=n,e.payconfirm(o))})}}):layer.msg("pay : teacherId不能为空")},payconfirm:function(n){r.getInstance().render({type:n.type,price:n.price,link:n.url,referenceid:n.referenceid,userid:n.userid,orderNum:n.orderNum,finish:n.finish,read:n.read,orderid:n.orderid,success:n.success,useNB:n.useNB})}};var s=function(n,e){$.getJSON("/gift/giftList.htm",function(t){var i=_.filter(t,function(n){return"红包"==n.gift_name})[0].gift_id;$.post("/app/appGiftPayOrder.htm",{pay_source:"0",goodsType:"5",teacherId:n.teacherId,buy_number:n.number,giftId:i,sum:n.number},function(n){1!=+n.status?layer.msg(a[n.status]):"function"==typeof e&&e(n)},"json")})},c=function(n,e){$.post("/app/appRewardPayOrder.htm",{goodsId:n.id,goodsType:0,totalPrice:n.number,pay_source:0,teacherId:n.teacherId},function(n){1!=+n.status?layer.msg(a[n.status]):"function"==typeof e&&e(n)},"json")}},function(n,e,t){"use strict";n.exports={1:"请求成功","-1":"请求繁忙",10001:"股票代码不存在",10002:"查询条件为空",20001:"登录失效",20002:"token为空",20003:"用户名不存在",20004:"密码为空",20005:"密码不匹配",20006:"登录失败",20007:"用户不存在",20008:"操作失败",20009:"密码不一致",20010:"TOKEN 错误",20011:"参数错误",20012:"获取验证码失败",20013:"期刊ID为空",20014:"直播室ID为空",20015:"提问内容为空",20016:"直播室未开启",20017:"直播老师未关联直播室",20018:"期刊不存在",20019:"已在其他终端登陆",20020:"提问次数超出限制",20021:"该条问题已被采纳过",20022:"不是该问题提问人",30001:"手机验证码为空",30002:"验证码错误",30003:"手机验证码错误",30004:"账号已存在",30005:"注册异常",30006:"第三方第一次登录",30007:"第三方非法用户",30008:"手机号为空",30009:"手机号已被绑定",30010:"手机号错误",40001:"参数为空",40002:"服务器异常",40003:"已点赞",40004:"评论失败",40005:"起始值为空",40006:"查询失败",40007:"请求方向格式错误",40008:"用户自选股已经存在",40009:"关注",40010:"没有此股票信息",40011:"取消关注",40012:"直播老师不存在",40013:"股票代码和名称不匹配",40014:"买入股票时资本不够",50001:"消息为空",60000:"支付成功",60001:"商品ID为空",60002:"商品类型为空",60003:"订单类型为空",60004:"订单ID为空",60005:"订单不存在",60006:"支付失败",60007:"签名为空",60008:"未传支付密码",60009:"支付密码错误",60010:"账户余额不足",60011:"用户没有开通账户",60012:"支付密码格式不正确",60013:"充值来源错误",60014:"订单金额类型不存在",60015:"订单金额错误",60016:"产品购买数量错误",60017:"礼物不存在",60018:"商品类型不存在",60019:"商品不存在",60020:"商品已购买",60021:"商品已付款请等待客服人员与您联系",60022:"商品未购买",70001:"组合不存在",70002:"组合已技术评价",70003:"收益信息为空",70004:"委托记录为空",80000:"该手机号被用户举报，涉嫌违规操作，目前不能注册账号",90000:"身份证号格式验证不通过",90001:"已通过实名制验证",90002:"还没有进行实名制验证",90003:"还没有进行风险评估",90004:"当天实名验证次数到达上线",100003:"活动已过期",100005:"用户不符合活动条件"}},function(n,e,t){"use strict";var i={composite:live_path+"/html/liveDetail_composite.htm"};n.exports={composite:{portal:function(){return __path+"/html/returnCompositeJsp.htm"},detail:function(n,e){return e=e||"YN",__path+"/html/CompositeDetail.htm?"+e+"ZHXQ"+n},create:function(n){return n="?EDIT"+n||"",__path+"/html/compositeCreate.htm"+n}},live:{detail:function(n){return i[n]},refer:function(n){return live_path+"/live/liveDetailRefer.htm?teacherid="+n}},refer:{detail:function(n){return __path+"/referp/list.htm?referenceid="+n}},pay:function(n){return __path+"/html/returnshortcutpayJsp.htm?orderNum="+n},video:{portal:video_path+"/video/index.htm",detail:function(n){return video_path+"/video/detail.htm?videoId="+n}},center:{stock:__path+"/myCenter/myCenter.htm"},news:{portal:news_path+"/article/index.htm"},opinion:{portal:opinion_path+"/opinion",detail:function(n){return opinion_path+"/opinion/"+n+".htm"}}}},function(module,exports,__webpack_require__){"use strict";var Face=__webpack_require__(7),askWindow=__webpack_require__(8),liveAskStockList=__webpack_require__(21),error=__webpack_require__(2),auth=__webpack_require__(25),Path=__webpack_require__(5),Confirm=__webpack_require__(3),payShow=__webpack_require__(31),stockList=__webpack_require__(34);window.hub.on("show-ask-window",function(n){askWindow.aimedRender(n)}),window.hub.on("referOrder",function(n){ynIsLogin?auth.get().render(function(e){e&&$.post("/app/buyGoodsPayOrder.htm",{goodsId:n.id,goodsType:3,buy_number:1,pay_source:0,employeecode:""},function(e){if(60011==e.status&&layer.msg("用户没有开通账户!请联系客服!"),90002==e.status&&realName.init({show:!0}),60023==e.status)return layer.msg("商品购买时间已过");1==e.status&&Confirm.payconfirm({type:3,price:n.price,referenceid:n.id,userid:ynUserId,orderid:e.data.orderid,link:Path.pay(e.data.orderNum),orderNum:e.data.orderNum,finish:!0,read:!0,useNB:!1,success:function(){return hub.emit("click-refer")}})},"json")}):yn.login.render()}),function(){var n=$("#insertStock").parents(".content").find("textarea");stockList.get().render({id:"insertStock",top:0,onSelect:function(e,t){t.val(""),n.val(n.val()+e.stockWrap).trigger("keyup")}})}();var audio,msn,__dataCache={},__href=window.location.href,cateMatch=__href.match(/live/),__cate=cateMatch?cateMatch[0]:"",historyId=function(){var n=window.location.href.match(/periodical=([0-9]+)/);return n?n[1]:periodicalid}(),route={liveCommon:function(){subject.init(),living.init(periodicalid),living.render(),liveDetailSocket(),topDetail.init(),topDetail.render()},self:function(){this.liveCommon(),modifyWin.init(),pubLive.init(),subject.showEidt(),pubLive.render(),closeLiveRoom.init(),liveAskStockList.init()},user:function(){this.liveCommon()},historyDetail:function(){subject.init(),liveAskStockList.init(),living.init(historyId),$("#liveContent-title-1").text("第"+historyId+"期直播内容"),living.history_render()},offline:function(){this.liveCommon()}},isOffline="-1"==teacher_isOffline,isHistory=historyId&&historyId!=periodicalid||isOffline;$(function(){try{audio=new Audio("/public/media/live_msg.mp3"),msn=new Audio("/public/media/msn_msg.mp3")}catch(n){$(".yn-icon-sound").hide()}var n=[{entry:"offline",assert:hasHistoryLive},{entry:"historyDetail",assert:isHistory},{entry:"self",assert:isTeacherSelf},{entry:"user",assert:!0}],e=_.find(n,function(n){return n.assert});(route[e.entry](),"live"==__cate)&&$($(".liveDetail-menu .item")[1]).addClass("select");isTeacherSelf&&(addTop.init(),addTop.render()),askWindow.init(),sideTool.init(),turnPeriodical.init()});var subject=function(){var n,e,t;return{init:function(){n=$(".living-subject"),n.find(".history"),e=$(".edit-subject"),t=$(".living-subject-value"),e.click(function(){modifyWin.render(t.text()),modifyWin.onDone=function(n){t.text(n)}})},render:function(n){t.text(n.title)},showEidt:function(){e.css("display","inline-block")}}}(),modifyWin=function(){var n,e,t,i,r;return{init:function(){n=periodicalid;var a=this;t=$("#modify-subject-container"),e=$("#modify-subject"),i=e.find("textarea"),o=e.find(".submit"),r=e.find(".wordCountValue"),e.on("click",".close",function(){return t.hide()&&i.val("")}),yn.wordCount(i,{indicate:r,limit:20}),o.click(_.debounce(function(){if(!i.val())return layer.msg("主题不能为空");o()},2e3,{leading:!0,trailing:!1}));var o=function(){var e=i.val();$.post("/center/editPeriodical.htm",{periodicalid:n,todaysubject:e},function(n){if(1!=(n=JSON.parse(n)).status)return layer.msg(error[n.status]);layer.msg("修改成功"),t.hide(),a.onDone(e)})}},render:function(n){ynTeacherId==room_teacherid&&(t.show(),yn.centerBox(e),n&&i.val(n).trigger("keyup"))},onDone:function(){}}}();function getYesterday(){var n=new Date;return n.setTime(n.getTime()-864e5),n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function beforeYesterday(){var n=new Date;return n.setTime(n.getTime()-1728e5),n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function getSeconds(n){return new Date(n.replace(/-/g,"/")).getTime()}function timeFormat(n){var e=n,t=new Date,i=getSeconds(e),r=(Date.now(),getSeconds(getYesterday()+" 00:00:00")),a=getSeconds(getYesterday()+" 23:59:59"),o=getSeconds(beforeYesterday()+" 00:00:00"),s=getSeconds(beforeYesterday()+" 23:59:59");getSeconds(t.getFullYear()+"-01-01 00:00:00");return i>a?"今天"+e.substr(10,6):i>=r&&i<=a?"昨天"+e.substr(10,6):i>=o&&i<=s?"前天"+e.substr(10,6):e.substr(0,16)}var addCare=function(n,e){var t=$.Deferred();return $.post("/center/attention.htm",{teacherid:n},function(n){if("1"==(n=JSON.parse(n)).status){var i="关注"==e?"关注成功":"取消成功";layer.msg(i),t.resolve()}else layer.msg(error[n.status])}),t.promise()},living=function(){var n,e,t,i,r,a,o,s="",c=20,d=null,l=function(e){$.getJSON("/html/queryLiveInfo.htm",{id:s,periodicalid:n,pageSize:c},function(n){e(n)})},p=function(n){return _.map(n,function(n){var e='<div class="live-item-2 clear '+n.messageType+'" data-id="'+n.id+'" data-link="'+n.link+'">\n                        <div class="time"><span class="time-detail">'+n._time+'</span></div>\n                        <div class="photo avatar"><img src="'+n.photo+'" alt="" /></div>\n                        <div class="msg">\n                            <span class="name">'+n.teacherName+'<i class="zhubo-icon '+n._icon+'"></i></span>\n                        </div>\n                        <div class="content">\n                            <span class="content-jiao"></span>\n                            <div class="live-detail">'+n.content+" "+n.btn+"</div>\n                            "+n.deleteItem+"\n                        </div>\n                    </div>",t='<div class="live-item-2 clear" data-id="'+n.id+'" data-link="'+n.link+'">\n                <div class="time"><span class="time-detail">'+n._time+'</span></div>\n                <div class="photo avatar"><img src="'+n.photo+'" alt="" /></div>\n                <div class="msg">\n                    <span class="name">'+n.teacherName+'<i class="zhubo-icon '+n._icon+'"></i></span>\n                </div>\n                <div class="content">\n                    <span class="content-jiao"></span>\n                    <div class="message-card '+n.cardName+" "+n.style+'">\n                        <p>'+n.answer+'</p>\n                        <div class="card">\n                            <div class="card-title">'+n._title+'</div>\n                            <div class="card-content">'+n._quotecontent+"</div>\n                        </div>\n                    </div>\n                    "+n.deleteItem+"\n                </div>\n            </div>";return""+(n.quotecontent?t:e)}).join("")},u=function(n){return _.map(n,function(n){return n.messageType="系统消息"==n.teacherName?"system":"",n._icon="系统消息"==n.teacherName?"hide":"",n.photo=n.photo||n.teacherPhoto||n.teacherPhoto_path,n.deleteItem=room_teacherid!=ynTeacherId||isHistory?"":'<div class="deleteIcon hide delete" data-id="'+n.id+'"></div>',n._link=n.link?"href = "+n.link:"",n._time=timeFormat(n.pubtime),n.isPay="0"===n.puiblisherid,n.answer="",n.quotecontent&&n.quotecontent.length>80?n._quotecontent=n.quotecontent.substr(0,80)+"…":n.quotecontent&&n.quotecontent.length<30?(n._quotecontent=n.quotecontent,n.style="line"):(n._quotecontent=n.quotecontent,n.style=""),n.contentFilter&&n.contentFilter.length>60?n._contentFilter=n.contentFilter.substr(0,60)+"…":n._contentFilter=n.contentFilter,n.link&&"-1"!=n.link.indexOf("referenceid")?(n.cardName="refer",n._title=n._contentFilter,n.btn='<span class="live-link refer">立即查看</span>。'):n.link&&"-1"!=n.link.indexOf("askStockDetail")?(n.cardName="ask",n._title="",n.answer=n._contentFilter):n.link&&"-1"!=n.link.indexOf("learning")?(n.cardName="tactics",n.contentFilter&&n.contentFilter.length>22?n._title=n.contentFilter.substr(0,22)+"…":n._title=n.contentFilter):n.link&&"-1"!=n.link.indexOf("article_id")?(n.cardName="opinion",n._title=n._contentFilter):(n.cardName="",n.btn=""),n})};return{enableAudio:!0,init:function(f){n=f,e=$("#live"),t=$("#liveDetail"),i=e.find("#items-middle"),o=e.find(".today-item"),r=i.find(".today"),a=i.find(".history"),living.setting.init(),tooltip.init(),function(){e.on("click",".message-card.opinion",function(){var n=$(this).parents(".live-item-2").data("link").match(/=([0-9]+)/),e=n?n[1]:"";hub.emit("click-opinion",{id:e,type:"opinion"})}),e.on("click",".message-card.tactics",function(){var n=$(this).parents(".live-item-2").data("link").match(/(learning\/)([0-9]+)/),e=n?n[2]:"";hub.emit("click-opinion",{id:e,type:"learning"})}),e.on("click",".message-card.refer",function(){var n=$(this).parents(".live-item-2").data("link").match(/=([0-9]+)/),e=n?n[1]:"";hub.emit("click-refer",e)}),e.on("click",".live-link.refer",function(){var n=$(this).parents(".live-item-2").data("link").match(/=([0-9]+)/),e=n?n[1]:"";hub.emit("click-refer",e)}),e.on("click",".message-card.ask",function(){var n=$(this).parents(".live-item-2").data("link").match(/=([0-9]+)/),e=n?n[1]:"";hub.emit("click-ask",e)});var n=!1;$("#live .items").scroll(function(){if(0==$("#live .items").scrollTop()&&!n){n=!0;var e=i[0].scrollHeight;s=d.find(".live-item-2").eq(0).data("id"),$(this),l(function(t){if(1!=t.status)return layer.msg(error[t.status]);n=!1,t.data.list.length<c&&(layer.msg("已加载全部"),n=!0),d.prepend(p(u(t.data.list))),i.scrollTop(i[0].scrollHeight-e)})}}),e.on("click",".yn-icon-sound",function(){$(this).toggleClass("stop"),living.enableAudio=!living.enableAudio}),e.on("click",".delete",function(){if(+room_teacherid==ynTeacherId){var n=$(this),e=$(this).parents(".live-item-2");layer.confirm("确定要删除吗?",function(t){var i=n.data("id");$.post("/html/broadcasting/delBroadcasting.htm",{id:i},function(n){return 1==(n=JSON.parse(n)).status?(layer.msg("已删除"),e.remove()&&layer.close(t)):layer.msg(error[n.status])})})}})}(),i.on("click","img",function(){if(!$(this).parent().hasClass("avatar"))if($(this).parents(".live-item-2").hasClass("system")){var n=$(this).data("giftid");if(!n)return;showPayAnimation(n)}else{var e=$(this).attr("src");$(".img-wrap").fadeIn(100).find("#img-wrap-img").attr("src",e)}}),$(".img-wrap").click(function(){$(this).fadeOut(100)})},history_render:function(){d=a,a.show(),t.show(),r.hide(),l(function(n){if(1!=n.status)return layer.msg(error[n.status]);n.data.list.length<1||(a.append(p(u(n.data.list))),i.scrollTop(i[0].scrollHeight))})},render:function(){d=r,a.hide(),t.show(),r.show(),l(function(n){if(1!=n.status)return layer.msg(error[n.status]);n.data.list.length<1||(o.html(p(u(n.data.list))),i.scrollTop(i[0].scrollHeight))}),i.scrollTop(i[0].scrollHeight)},onSocket:function(n){n.pubtimeString=n.showTimeStr,n.teacherName=n.nickName,n.id=n.dataId,i.append(p(u([n]))),tooltip.render(),living.enableAudio&&audio.play()},onTimer:function(){l(function(n){if(1!=n.status)return layer.msg(error[n.status]);log(n),i.html(p(n.data.list))})}}}(),sideTool=function(){var n;return{init:function(){if(n=$(".side-tool"),ynIsTeacher)n.html('<div class="askStock-message"><i class="live-circle hide"><i class="live-circle-inset"></i></i>问股消息</div>'),n.on("click",".askStock-message",function(){liveAskStockList.render(),n.find(".live-circle").hide()});else{var e=isHistory?"":'<div class="message user-gift">礼物</div>';n.append('<div class="message user-ask">问股</div>'+e),n.on("click",".care",function(){var n=this;if(!$(n).hasClass("true")){if(ynIsLogin)return+ynTeacherId==+room_teacherid?layer.msg("不能关注自己啊"):void addCare(room_teacherid,"关注").done(function(e){$(n).text("已关注").addClass("true")});yn.login.render()}}),n.on("click",".user-ask",function(){if(ynIsLogin)return+ynTeacherId==+room_teacherid?layer.msg("扪心自问"):void askWindow.aimedRender({select:{id:room_teacherid,name:room_nickName}});yn.login.render()}),n.on("click",".user-gift",function(){ynIsLogin?hub.emit("click-gift"):yn.login.render()})}},render:function(){n.find(".live-circle").show()}}}(),tooltip=function(){var n,e,t,i=!1,r=function(){n.css("display","none"),i=!1};return{init:function(){e=$("#live .items"),n=$(".tooltip-live"),t=$(".backToNow"),n.click(function(){r(),e.scrollTop(3e6)}),t.click(function(){t.fadeOut(),e.scrollTop(3e6)}),e.on("scroll",_.debounce(function(){$(".live-item-2:last").position().top<510&&(r(),t.fadeOut())},500)),e.on("scroll",_.debounce(function(){$(".live-item-2:last").position().top>510&&t.fadeIn()},500))},render:function(){ynIsTeacher||i||(n.css("display","inline-block"),i=!0)}}}();living.setting=function(){var n,e;return{init:function(){n=$("#live"),e=n.find(".setting"),e.find(".font-size-item").click(function(){$(this).parent().find(".select").removeClass("select"),$(this).addClass("select");var e=$(this).data("size");n.find(".items").attr("id","items-"+e)})}}}();var pubLive=function(){var n,e,t,i,r,a=function(){var n=e.getContent();n?publishLiveContent(r,n).done(function(){e.setContent("")}):layer.msg("发布内容不能为空")};return{init:function(){r=periodicalid,n=$("#pubEditer"),t=$(".insertStockCode"),i=n.find(".submit"),e=UE.getEditor("ueditContainer",{toolbars:[["simpleupload"]],enableAutoSave:!1,saveInterval:36e6,initialFrameHeight:113,elementPathEnabled:!1,wordCount:!1,enableContextMenu:!1,pasteplain:!0,autotypeset:{removeClass:!0,clearFontSize:!0,removeEmptyline:!0,removeEmptyNode:!1,autotypeset:!0,indentValue:"2em"}}),stockList.get().render({id:"insertStockCode",top:70,onSelect:function(n,i){e.execCommand("inserthtml",n.stockWrap),t.val("")}}),i.on("click",_.debounce(function(){a()},2e3,{leading:!0,trailing:!1}))},render:function(){n.show()}}}(),liveHistory=function(){var n,e,t,i,r=1;return{init:function(a){t=a,n=$("#liveHistory"),e=n.find(".items"),i=yn.bootpag(n),isTeacherSelf||i.hide(),i.on("page",function(n,e){r=e,liveHistory.render()}),setTimeout(function(){e.find("img").each(function(){$(this).parent().hasClass("photo")||$(this).zoomify()})},1e3)},render:function(){n.show(),getMyLiveList({page:r,row:11,userid:t}).done(function(n){log("历史直播",n),n.data.list=function(n){return _.filter(_.map(n,function(n){return n._time=n.starttime.match(/^[^\s]+/)[0],0!=+n.status&&n}),function(n){return n})}(n.data.list),e.html(template("liveHistory-template",n.data.list)),i.bootpag({page:r,total:n.pageNumber})})}}}(),showPayAnimation=function(n){hub.emit("gift-animation",n)},liveDetailSocket=function liveDetailSocket(){var host="";host=/yueniuwang/.test(href)?"http://ws.yuetougu.com":/yuetougu/.test(href)?"http://ws.yuetougu.com":live_path;try{var webSocket;host=host.replace("http:",""),webSocketPath="ws:"+host+"/websocket",webSocket=new ReconnectingWebSocket(webSocketPath),webSocket.debug=!0,webSocket.timeoutInterval=5400,window.onbeforeunload=function(){webSocket.close()},webSocket.onopen=function(n){var e="0_0_0_"+periodicalid;webSocket.send(e)},webSocket.onmessage=function(event){var _data=eval("("+event.data+")");console.log("push",_data);var dataType=_data.dataType;if("1"!=dataType){if(3!=+dataType)return 11==+dataType?(showPayAnimation(_data.giftid),_data.puiblisherid="0",void living.onSocket(_data)):void("2"==dataType&&hub.emit("chat-push",_data));sideTool.render()}else living.onSocket(_data)}}catch(n){log("use timer update data...")}},publishLiveContent=function(n,e){if(ynIsLogin){if(e){var t=$.Deferred(),i={periodicalid:n,content:e=e.replace(/(<img)\s+(?:class="big_pic")?(.+?(jpg"|png"))/g,'$1  $2 class="big_pic"')};return $.post("/teacher/html/broadcasting/addBroadcasting.htm",i,function(n){if("1"!=(n=JSON.parse(n)).status)return 80001==n?layer.msg("您输入的内容违反相关规定，不能予以展示！"):layer.msg(error[n.status]);layer.msg("发表成功"),t.resolve(n)}),t.promise()}layer.msg("请输入内容...")}else layer.msg("请登录...")},closeLiveRoom={init:function(){$(".close-live").show().on("click",function(){"0"==liveStatus&&layer.confirm("确定关闭直播室？",function(){$.post("/broadcasting/closePeriodical.htm",{periodicalid:periodicalid},function(n){if("1"!=n.status)return layer.msg(error[n.status]);layer.msg("直播室已关闭"),window.location.href=__path+"/backstage/myLive.htm"},"json")})})}},addTop=function(){var n,e,t,i,r=null,a=function(){e.hide(),t.val(""),e.find(".todayWin-title").text(""),i.text(100)};return{init:function(){n=$("#liveDetail"),e=$("#todayWin"),t=e.find("textarea"),i=e.find(".wordCount"),n.on("click",".todayHeadlines",function(){var n=$(this).text();r=$(this).data("id"),e.find(".todayWin-title").text(n),e.show()}),e.on("click",".todayWin-cancel",function(){a()}),e.on("click",".todayWin-sure",_.debounce(function(){var n=_.trim(e.find("textarea").val());return n?n.length>100?layer.msg("最多输入100字"):void $.post("/broadcastingTop/addTop.htm",{tag_id:r,content:n},function(n){if(1!=n.status)return layer.msg(error[n.status]);layer.msg("置顶消息发布成功"),a(),topDetail.render()},"json"):layer.msg("请输入内容")},2e3,{leading:!0,trailing:!1})),yn.wordCount(t,{indicate:i,limit:100});var o=null;n.find(".todayHeadlines-btn").get(0).onmouseenter=n.find(".todayHeadlines-wrap").get(0).onmouseenter=function(){clearTimeout(o),n.find(".todayHeadlines-wrap").show()},n.find(".todayHeadlines-btn").get(0).onmouseleave=n.find(".todayHeadlines-wrap").get(0).onmouseleave=function(){o=setTimeout(function(){n.find(".todayHeadlines-wrap").hide()},500)}},render:function(){$.getJSON("/broadcastingTop/getToptag.htm",function(e){if(1!=e.status)return layer.msg(error[e.status]);e.data.length>0?n.find(".todayHeadlines-wrap").html(function(n){return _.map(n,function(n){return'<span class="todayHeadlines" data-id="'+n.id+'">'+n.tag_name+"</span>"}).join("")}(e.data)):n.find(".todayHeadlines-wrap").html('<span class="tag_none"><i class="fa fa-info" aria-hidden="true"></i>暂无标签</span>')})}}}(),topDetail=function(){var n;return{init:function(){(n=$("#live")).on("mouseenter",".todayTop-wrap",function(){n.find(".arrow-down").hide(),n.find(".todayTop-content").show().stop().animate({height:"95px"},400)}),n.on("mouseleave",".todayTop-wrap",function(){n.find(".arrow-down").show(),n.find(".todayTop-content").stop().animate({height:"0"},400).hide()}),n.on("click",".todayTop-close",function(){n.find(".todayTop-wrap").hide(),n.find(".today-packUp").show()}),n.on("click",".today-packUp",function(){n.find(".today-packUp").hide(),n.find(".todayTop-wrap").show()}),n.on("click",".todayTop-del",function(){var e=$(this).data("id");layer.confirm("确定删除此置顶消息吗？",function(){$.post("/broadcastingTop/delTop.htm",{id:e},function(e){if("1"!=e.status)return layer.msg(error[e.status]);layer.msg("已删除"),n.find(".todayTop-wrap").hide()},"json")}),n.find(".today-packUp").hide(),n.find(".todayTop-wrap").show()})},render:function(){$.getJSON("/broadcastingTop/topDetail.htm",{periodicalid:periodicalid},function(e){"1"==e.status&&void 0!==e.data&&(n.find(".todayTop-wrap").show().html(function(n){return'<div class="todayTop">\n            '+n.delete+'\n            <span class="todayTop-title">'+n.tag_name+'</span>\n            <span class="todayTop-close"></span>\n            <span class="todayTop-time">'+n._create_time+'</span><span class="arrow-down"></span></div>\n        <div class="todayTop-content hide">'+n.content+'<span class="arrow-up"></span></div>'}(function(n){return n._create_time=n.create_time.match(/^\d{4}-([0-9\-]+)/)[1],n.delete=isTeacherSelf?'<span class="todayTop-del" data-id="'+n.id+'">删除</span>':"",n}(e.data))),n.find(".today-packUp").html(e.data.tag_name).hide())})}}}(),turnPeriodical=function(){var n,e=null,t=null,i=null,r=null,a=null;return{init:function(){n=$(".setting");var o=window.location.href.match(/history=([0-2])/);0==(e=o?o[1]:"0")?(n.find(".next").hide(),n.find(".current").hide()):2==e&&n.find(".prev").hide(),getMyLiveList({page:1,row:3,userid:room_userid}).done(function(n){t=n.data.list,a=n.data.list.length}),n.on("click",".prev",function(){a-e==1||a<e||(i=t[++e],r=t[e].starttime.substr(0,11),window.location.href="/live/liveDetailLive.htm?teacherid="+room_teacherid+"&periodical="+i.periodicalid+"&time"+r+"&history="+e)}),n.on("click",".next",function(){0!=e&&(i=t[--e],r=t[e].starttime.substr(0,11),window.location.href="/live/liveDetailLive.htm?teacherid="+room_teacherid+"&periodical="+i.periodicalid+"&time"+r+"&history="+e)}),n.on("click",".current",function(){window.location.href=live_path+"live/"+room_teacherid+"/"})}}}(),getMyLiveList=function(n){n=_.extend({page:1,row:10},n);var e={user_id:room_userid,pageSize:n.row,currentPage:n.page},t=$.Deferred();return $.getJSON("/center/queryMyLive.htm",e,function(e){1==e.status&&(e.pageNumber=_.max([1,Math.ceil(e.data.total/n.row)]),t.resolve(e))}),t.promise()}},function(n,e,t){"use strict";var i,r={"呵呵":"d_hehe","嘻嘻":"d_xixi","哈哈":"d_haha","爱你":"d_aini","挖鼻屎":"d_wabishi","吃惊":"d_chijing","晕":"d_yun","泪":"d_lei","馋嘴":"d_chanzui","抓狂":"d_zhuakuang","哼":"d_heng","可爱":"d_keai","怒":"d_nu","汗":"d_han","害羞":"d_haixiu","睡觉":"d_shuijiao","钱":"d_qian","偷笑":"d_touxiao","笑cry":"d_xiaoku",doge:"d_doge","喵喵":"d_miao","酷":"d_ku","衰":"d_shuai","闭嘴":"d_bizui","鄙视":"d_bishi","花心":"d_huaxin","鼓掌":"d_guzhang","悲伤":"d_beishang","思考":"d_sikao","生病":"d_shengbing","亲亲":"d_qinqin","怒骂":"d_numa","太开心":"d_taikaixin","懒得理你":"d_landelini","右哼哼":"d_youhengheng","左哼哼":"d_zuohengheng","嘘":"d_xu","委屈":"d_weiqu","吐":"d_tu","可怜":"d_kelian","打哈气":"d_dahaqi","挤眼":"d_jiyan","失望":"d_shiwang","顶":"d_ding","疑问":"d_yiwen","困":"d_kun","感冒":"d_ganmao","拜拜":"d_baibai","黑线":"d_heixian","阴险":"d_yinxian","打脸":"d_dalian","傻眼":"d_shayan","互粉":"f_hufen","心":"l_xin","伤心":"l_shangxin","猪头":"d_zhutou","熊猫":"d_xiongmao","兔子":"d_tuzi","握手":"h_woshou","作揖":"h_zuoyi","赞":"h_zan","耶":"h_ye",good:"h_good","弱":"h_ruo","不要":"h_buyao",ok:"h_ok",haha:"h_haha","来":"h_lai","威武":"f_v5","鲜花":"w_xianhua","钟":"o_zhong","浮云":"w_fuyun","飞机":"o_feiji","月亮":"w_yueliang","太阳":"w_taiyang","微风":"w_weifeng","下雨":"w_xiayu","给力":"f_geili","神马":"f_shenma","围观":"o_weiguan","话筒":"o_huatong","奥特曼":"d_aoteman","萌":"f_meng","囧":"f_jiong","织":"f_zhi","礼物":"o_liwu","喜":"f_xi","围脖":"o_weibo","音乐":"o_yinyue","绿丝带":"o_lvsidai","蛋糕":"o_dangao","蜡烛":"o_lazhu","干杯":"o_ganbei","男孩儿":"d_nanhaier","女孩儿":"d_nvhaier","肥皂":"d_feizao","照相机":"o_zhaoxiangji","沙尘暴":"w_shachenbao","问":"d_wen","答":"d_huida"},a={},o={getInstance:function(){return i||(i=function(){$("body").append('<div id="qqface-container" style="display:none;">'+"<span class='qqface icon-d_aini' title='爱你'></span><span class='qqface icon-d_aoteman' title='奥特曼'></span><span class='qqface icon-d_baibai' title='拜拜'></span><span class='qqface icon-d_beishang' title='悲伤'></span><span class='qqface icon-d_bishi' title='鄙视'></span><span class='qqface icon-d_bizui' title='闭嘴'></span><span class='qqface icon-d_chanzui' title='馋嘴'></span><span class='qqface icon-d_chijing' title='吃惊'></span><span class='qqface icon-d_dahaqi' title='打哈气'></span><span class='qqface icon-d_dalian' title='打脸'></span><span class='qqface icon-d_ding' title='顶'></span><span class='qqface icon-d_doge' title='doge'></span><span class='qqface icon-d_feizao' title='肥皂'></span><span class='qqface icon-d_ganmao' title='感冒'></span><span class='qqface icon-d_guzhang' title='鼓掌'></span><span class='qqface icon-d_haha' title='哈哈'></span><span class='qqface icon-d_haixiu' title='害羞'></span><span class='qqface icon-d_han' title='汗'></span><span class='qqface icon-d_hehe' title='呵呵'></span><span class='qqface icon-d_heixian' title='黑线'></span><span class='qqface icon-d_heng' title='哼'></span><span class='qqface icon-d_huaxin' title='花心'></span><span class='qqface icon-d_huida' title='答'></span><span class='qqface icon-d_jiyan' title='挤眼'></span><span class='qqface icon-d_keai' title='可爱'></span><span class='qqface icon-d_kelian' title='可怜'></span><span class='qqface icon-d_ku' title='酷'></span><span class='qqface icon-d_kun' title='困'></span><span class='qqface icon-d_landelini' title='懒得理你'></span><span class='qqface icon-d_lei' title='泪'></span><span class='qqface icon-d_miao' title='喵喵'></span><span class='qqface icon-d_nanhaier' title='男孩儿'></span><span class='qqface icon-d_nu' title='怒'> </span><span class='qqface icon-d_numa' title='怒骂'></span><span class='qqface icon-d_nvhaier' title='女孩儿'></span><span class='qqface icon-d_qian' title='钱'></span><span class='qqface icon-d_qinqin' title='亲亲'></span><span class='qqface icon-d_shayan' title='傻眼'></span><span class='qqface icon-d_shengbing' title='生病'></span><span class='qqface icon-d_shiwang' title='失望'></span><span class='qqface icon-d_shuai' title='衰'></span><span class='qqface icon-d_shuijiao' title='睡觉'></span><span class='qqface icon-d_sikao' title='思考'></span><span class='qqface icon-d_taikaixin' title='太开心'></span><span class='qqface icon-d_touxiao' title='偷笑'></span><span class='qqface icon-d_tu' title='吐'> </span><span class='qqface icon-d_tuzi' title='兔子'></span><span class='qqface icon-d_wabishi' title='挖鼻屎'></span><span class='qqface icon-d_weiqu' title='委屈'></span><span class='qqface icon-d_wen' title='问'></span><span class='qqface icon-d_xiaoku' title='笑cry'></span><span class='qqface icon-d_xiongmao' title='熊猫'></span><span class='qqface icon-d_xixi' title='嘻嘻'></span><span class='qqface icon-d_xu' title='嘘'> </span><span class='qqface icon-d_yinxian' title='阴险'></span><span class='qqface icon-d_yiwen' title='疑问'></span><span class='qqface icon-d_youhengheng' title='右哼哼'></span><span class='qqface icon-d_yun' title='晕'></span><span class='qqface icon-d_zhuakuang' title='抓狂'></span><span class='qqface icon-d_zhutou' title='猪头'></span><span class='qqface icon-d_zuohengheng' title='左哼哼'></span><span class='qqface icon-f_geili' title='给力'></span><span class='qqface icon-f_hufen' title='互粉'></span><span class='qqface icon-f_jiong' title='囧'></span><span class='qqface icon-f_meng' title='萌'></span><span class='qqface icon-f_shenma' title='神马'></span><span class='qqface icon-f_v5' title='威武'> </span><span class='qqface icon-f_xi' title='喜'> </span><span class='qqface icon-f_zhi' title='织'></span><span class='qqface icon-h_buyao' title='不要'></span><span class='qqface icon-h_good' title='good'></span><span class='qqface icon-h_lai' title='来'></span><span class='qqface icon-h_ok' title='ok'> </span><span class='qqface icon-h_ruo' title='弱'></span><span class='qqface icon-h_woshou' title='握手'></span><span class='qqface icon-h_ye' title='耶'> </span><span class='qqface icon-h_zan' title='赞'></span><span class='qqface icon-h_zuoyi' title='作揖'></span><span class='qqface icon-l_shangxin' title='伤心'></span><span class='qqface icon-l_xin' title='心'></span><span class='qqface icon-o_dangao' title='蛋糕'></span><span class='qqface icon-o_feiji' title='飞机'></span><span class='qqface icon-o_ganbei' title='干杯'></span><span class='qqface icon-o_huatong' title='话筒'></span><span class='qqface icon-o_lazhu' title='蜡烛'></span><span class='qqface icon-o_liwu' title='礼物'></span><span class='qqface icon-o_lvsidai' title='绿丝带'></span><span class='qqface icon-o_weibo' title='围脖'></span><span class='qqface icon-o_weiguan' title='围观'></span><span class='qqface icon-o_yinyue' title='音乐'></span><span class='qqface icon-o_zhaoxiangji' title='照相机'></span><span class='qqface icon-o_zhong' title='钟'></span><span class='qqface icon-w_fuyun' title='浮云'></span><span class='qqface icon-w_shachenbao' title='沙尘暴'></span><span class='qqface icon-w_taiyang' title='太阳'></span><span class='qqface icon-w_weifeng' title='微风'></span><span class='qqface icon-w_xianhua' title='鲜花'></span><span class='qqface icon-w_xiayu' title='下雨'></span><span class='qqface icon-w_yueliang' title='月亮'></span></div>");var n=$("#qqface-container");return n.click(function(){return!1}),document.onclick=function(){return n.hide()},n.on("click",".qqface",function(){var e=$(this).attr("title");return i.onclick("["+e+"]"),n.hide(),!1}),{render:function(e,t,r){var o=0,s=0;r&&(o=r.left,s=r.top);var c=$("#"+e);if(!c.get(0))throw new error("没找到相应的ID");if(i.onclick=t||function(){throw new error("onclick参数未定义")},n.show(),!a[e]){var d=n.outerHeight(!0),l=n.outerWidth(!0);a[e]={height:d,width:l,top:c.offset().top-d-10+s,left:c.offset().left-l/2+o}}var p=a[e],u=p.left,f=p.top;n.css({left:u,top:f})},titleToName:function(n){var e=n.replace(/[\[\]]/g,"");return r[e]?r[e]:""}}}()),i}};n.exports=o},function(n,e,t){"use strict";var i=t(3),r=t(5);t(14);var a,o,s,c,d,l,p,u,f,h=t(16),m=t(17),g=t(2),x=3;function b(n){$.post("/consultation/questionNote.htm",n,function(n){return"80000"==(n=JSON.parse(n)).status?layer.msg("该账号被用户举报，涉嫌违规操作，目前不能向投顾问股"):"80001"==n?layer.msg("您输入的内容违反相关规定，不能予以展示!"):"1"!=n.status?layer.msg(g[n.status]):void v()})}function v(){l.show(),setTimeout(function(){l.hide()},3e3)}function y(n){$.post("/app/appRewardPayOrder.htm",n,function(e){if(1!=e.status)return layer.msg(g[e.status]);1==e.status&&i.payconfirm({type:"4",price:n.totalPrice,userid:ynUserId,orderid:e.data.orderid,link:r.pay(e.data.orderNum),orderNum:e.data.orderNum,finish:!0,read:!0,useNB:!1,success:function(){return v()}})},"json")}var w=function(){var n=$("#askTeacherWindow");n.hasOwnProperty("animateCss"),$.fn.extend({animateCss:function(n){this.addClass("animated "+n).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+n)})}}),n.animateCss("zoomIn")};function k(){o.show(),z.clear(),S.clear(),T.hide(),q.hide(),C.hide(),u.find("textarea").val(""),N.hide(),$("#ask-win-stock").val(""),$("#stockCode").val(""),a.find(".wordCount .value").html(200),u.find(".aim-word .aim-count").html(200)}var q=function(){var n={};return{init:function(){var e=this;n.container=a.find(".onlyInvite"),n.button=n.container.find("button"),n.button.click(function(){return e.onSubmit()})},show:function(){return n.container.show()},hide:function(){return n.container.hide()},onSubmit:function(){return log("onSubmit is not override...")}}}(),S=function(){var n={container:null,select:null,input:null,price:null},e=[],t=function(n,e){return'<span class="item" data-id="'+n+'">@'+e+'<i class="fa fa-times-circle close-invite"></i></span>'},i=function(n){n=n||"";var e=$.Deferred();return $.getJSON("/consultation/queryLikeTeacher.htm",{likename:n},function(n){return e.resolve(n)}),e.promise()},r={exist:function(){return layer.msg("已存在")},self:function(){return layer.msg("不能向自己提问")}};return{init:function(){var t=this;n.container=a.find(".invite"),n.select=n.container.find(".select"),n.input=n.container.find("input"),n.price=n.container.find(".price-num"),n.container.on("click",".close-invite",function(){var t=$(this).parent(),i=t.data("id");t.remove();var r=_.indexOf(e,i);e.splice(r,1),n.input.show(),n.price.html(0)}),n.input.keyup(_.debounce(function(){var n=$(this).val().replace("@","");/[\u4e00-\u9fa5]+/.test(n)&&i(n).done(function(n){if(1!=n.status)return layer.msg(g[n.status]);t.onChange(n)})},1e3)).focus(function(){return i("").done(function(n){return t.onChange(n)})}),n.input.blur(function(){$(this).val("")})},clear:function(){n.input.val(""),n.select.empty(),e=[],n.input.show(),n.price.html("0")},add:function(i){+i.id!=+ynTeacherId?(n.select.html(t(i.id,i.name)),n.price.html(i.price),e.splice(0,1,i.id),n.input.hide()):r.self()},append:function(i){var a=[{key:"self",assert:+i.id==+ynTeacherId},{key:"exist",assert:-1!=_.indexOf(e,i.id)}],o=_.find(a,function(n){return n.assert});o?r[o.key]():(n.price.html(i.price),n.select.html(t(i.id,i.name)),e.splice(0,1,i.id),n.input.hide())},getValue:function(){var e=n.price.html();console.log("=price=",e);var t="";return n.select.find(".item").each(function(){t+=$(this).data("id")+"&"}),{result:t.replace(/&$/,""),price:e}},assert:function(){return n.select.find(".item").length<1},onChange:function(){return log("onChange  note override...")},onMax:function(){return log("onMax : note override...")}}}(),T=function(){var n={};return{init:function(){var e=this,t=this;n.container=a.find(".list"),n.title=n.container.find(".info .value"),n.items=n.container.find(".list-wrap"),n.container.on("click",".close",function(){return e.hide()}),n.container.on("click",".item",function(){var n=$(this).data("id"),e=$(this).data("name");W({teacherId:n}).done(function(i){var r=i.data;t.onSelect({id:n,name:e,price:r})})})},render:function(e){this.show();var t=e.data.list;n.title.text(t.length),t=_.filter(t,function(n){return-1==d.indexOf("-"+n.answeruserid+"-")}),n.items.html(template("online-teacher-template",t))},onSelect:function(n){return log("error : searchResult onSelect is not override...")},show:function(){return n.container.show()},hide:function(){return n.container.hide()}}}(),z=function(){var n={};return{init:function(){n.input=a.find("textarea"),n.input.keyup(function(){P($(this).val(),function(n){return n?C.render(n):C.hide()})})},clear:function(){n.input.val("")},getValue:function(){return n.input.val()},assert:function(){return!_.trim(n.input.val())}}}(),C=function(){var n={},e="",t="";return{init:function(){n.container=a.find(".msg"),n.code=n.container.find(".msg-code")},hide:function(){n.container.hide(),e=t=""},render:function(i){e=i.code,t=i.name,n.code.text(e+t),n.container.show()},getValue:function(){return{code:e,name:t}}}}(),I=function(){var n={};return{init:function(){n.input=u.find("textarea"),n.input.keyup(function(){P($(this).val(),function(n){return n?N.render(n):N.hide()})})},clear:function(){n.input.val("")},getValue:function(){return n.input.val()},assert:function(){return!_.trim(n.input.val())}}}(),N=function(){var n={},e="",t="";return{init:function(){n.container=u.find(".aim-msg"),n.code=n.container.find(".msg-code")},hide:function(){n.container.hide(),e=t=""},render:function(i){e=i.code,t=i.name,n.code.text(e+t),n.container.show()},getValue:function(){return{code:e,name:t}}}}();function W(n){var e=$.Deferred();return $.getJSON("/teacher/getQuestionsPrice.htm",n,function(n){1==n.status&&e.resolve(n)}),e.promise()}var D=function(){var n={};return{init:function(){var e=this;n.items=a.find(".right .items"),n.items.on("click",".item",function(){var n=$(this).data("id"),t=$(this).data("name");W({teacherId:n}).done(function(i){var r=i.data;e.onSelect({id:n,name:t,price:r})})})},render:function(){$.getJSON("/consultation/queryOnlineTeacher.htm?pageSize=20&currentPage=1&userid="+ynUserId,function(e){if(1==e.status){var t=e.data.list;t=_.filter(t,function(n){return-1==d.indexOf("-"+n.answeruserid+"-")}),n.items.html(template("online-teacher-template",t))}})},onSelect:function(){return log("onlineTeacher select...")}}}();function j(n){ynIsLogin?$.getJSON("/consultation/queryTodayQuestionCount.htm",{questionuserid:ynUserId,t:L()},function(e){if(1!=e.status)return layer.msg(g[e.status]);p=x-+e.data,n(p=p<1?0:p)}):yn.login.render()}var L=function(){return(new Date).getTime()};var O=function(){var n={};return{init:function(){n.input=a.find(".stockList"),n.target=a.find("textarea"),m.get().render({id:"ask-win-stock",top:42,onSelect:function(e,t){t.val(""),n.target.val(n.target.val()+e.stockWrap).trigger("keyup")}})}}}(),A=function(){var n={};return{init:function(){n.input=u.find(".stockList"),n.target=u.find("textarea"),m.get().render({id:"stockCode",top:218,left:25,onSelect:function(e,t){t.val(""),n.target.val(n.target.val()+e.stockWrap).trigger("keyup")}})}}}();function P(n,e){var t=n.match(/[0-9]{6}/g);if(!t)return e(!1);var i=_.find(t,function(n){return F(n)});if(!i)return e(!1);h(i).done(function(n){if(n&&n.length<6)return e(!1);e({code:i,name:n[0]})})}var F=function(n){n=String(n);return!!/[036][0-9]{5}/.test(n)},B=null;var H={init:function(){a=$("#askTeacherWindow"),o=$("#questionField"),s=$("#askNoTimesWin"),l=$("#askSuccess"),u=$("#askAimedTeacher"),S.init(),z.init(),C.init(),I.init(),N.init(),T.init(),D.init(),q.init(),O.init(),A.init(),function(){var n=a.find("textarea"),e=a.find(".wordCount .value");yn.wordCount(n,{indicate:e})}(),function(){var n=u.find("textarea");a.find(".wordCount .value");var e=u.find(".aim-word .aim-count");yn.wordCount(n,{indicate:e})}(),function(){var n=$(window).width(),e=$(window).height(),t=a.outerWidth(),i=a.outerHeight();a.css({left:(n-t)/2+"px",top:(e-i)/2+"px"})}(),a.on("click",".close-win",function(){a.parent("#askTeacher-wrap").hide(),k()}),u.on("click",".aim-close-win",function(){u.parent("#askAimed-wrap").hide(),k()}),l.on("click",function(){l.hide()}),s.on("click",".ask-close",function(){s.hide()}),S.onChange=function(n){return T.render(n)},S.onMax=function(){return T.hide()},T.onSelect=function(n){return S.append({id:n.id,name:n.name,price:n.price})},D.onSelect=function(n){S.append({id:n.id,name:n.name,price:n.price})},a.on("click",".submit button",function(){var n={seachBar:function(){return layer.msg("请选择投资顾问")},textarea:function(){return layer.msg("请输入您的问题")}},e=[{key:"seachBar",assert:S.assert()},{key:"textarea",assert:z.assert()}],t=_.find(e,function(n){return n.assert});if(t)n[t.key]();else{if(z.getValue().trim().length<3)return layer.msg("提问至少3个字");a.parent("#askTeacher-wrap").hide();var i=S.getValue().price;p<1&&0!=i?y({pay_source:0,goodsType:4,totalPrice:S.getValue().price,teacherId:S.getValue().result,questioncontent:z.getValue(),stockcode:C.getValue().code,stockname:C.getValue().name}):b({questionuserid:ynUserId,teacherids:S.getValue().result,questioncontent:z.getValue(),stockcode:C.getValue().code,stockname:C.getValue().name,note_source:0}),k()}}),u.on("click",".aim-submit",function(){var n=u.find("#textarea").val().trim();if(n.length<3)return layer.msg("提问至少3个字");u.parent("#askAimed-wrap").hide(),p<1&&0!=B?(u.find(".aim-line .aim-num").text().trim(),y({pay_source:0,goodsType:4,totalPrice:B,teacherId:f,questioncontent:n,stockcode:N.getValue().code,stockname:N.getValue().name}),k()):(b({questionuserid:ynUserId,teacherids:f,questioncontent:n,stockcode:N.getValue().code,stockname:N.getValue().name,note_source:0}),k())}),a.on("click",".invite-submit",function(){a.hide();var n={questionuserid:ynUserId,teacherids:S.getValue().result,note_billno:c.invite.number};$.post("/consultation/invitationTeacher.htm",n,function(n){layer.msg("success"==n?"邀请成功":"错误:"+n)})})},render:function(n){if(!ynIsLogin)return yn.login.render();if(ynTeacherId)return layer.msg("老师不能提问!");c=_.extend({select:!1,invite:!1,filter:[]},n);var e=function(){return S.add({id:c.select.id,name:c.select.name})},t=function(){o.hide(),q.show()};j(function(n){var i=0==n?"您的免费提问已用尽，可进入直播间进行互动":'您还剩<span class="value">'+n+"</span>次免费提问机会";k(),w(),a.parent("#askTeacher-wrap").fadeIn(),a.parent("#askTeacher-wrap").show(),a.find(".times").html(i),c.select&&e(),c.invite&&t(),c.filter.push(ynTeacherId),d="-"+c.filter.join("-")+"-",D.render()})},aimedRender:function(n){return ynIsLogin?ynTeacherId?layer.msg("老师不能提问!"):void j(function(e){console.log("count3112",e);var t=0==e?"您的免费提问已用尽，可进入直播间进行互动":'您还剩<span class="value">'+e+"</span>次免费提问机会";w(),W({teacherId:f=n.select.id}).done(function(n){B=n.data,u.parent("#askAimed-wrap").fadeIn(),u.parent("#askAimed-wrap").show(),u.find(".aim-times").html(t),u.find(".aim-line .aim-num").html(B)})}):yn.login.render()}};n.exports=H},function(n,e,t){"use strict";t(10);n.exports=function(){var n=null;return{getInstance:function(){return n||(n=function(){$("body").append(r());var e=$("#playtour"),t=e.find("input"),a=e.find(".balance-value");return yn.centerBox(e),e.find(".close").click(function(n){return e.hide()}),e.find(".support-short-item").click(function(){$(this).addClass("thistype").siblings(".thistype").removeClass("thistype"),t.val($(this).data("type"))}),e.find(".submit").click(function(i){var r=_.trim(t.val());if(!/^[1-9][0-9]*$/.test(r))return layer.msg("客官，真的不能再少了!");e.hide(),n.onSubmit&&n.onSubmit(+r)}),{render:function(n){_.extend(this,n),i().done(function(n){a.text(n.balance),n.balance}),t.val(""),$(".support-short-item.thistype").removeClass("thistype"),e.velocity("transition.expandIn",{duration:300})}}}()),n}}}();var i=function(){var n=$.Deferred();return $.getJSON("/useraccount/pay_useraccountDetail.htm",{user_id:ynUserId},function(e){return n.resolve(e)}),n.promise()},r=function(){return'<div id="playtour" class="hide">\n\t\t        <p class="title-1">打赏<span>（本次交易免密码）</span></p>\n\t\t        <i class="close fa fa-times-circle fa-2x"></i>\n\t\t        <div class="wrap">\n\t\t            <div class="getPrice">\n\t\t                <div class="group">\n\t\t                    <span class="support-short-item" data-type="2">2牛币</br><font>（等价2元）</font></span>\n\t\t                    <span class="support-short-item" data-type="16">16牛币</br><font>（等价16元）</font></span>\n\t\t                    <span class="support-short-item" data-type="58">58牛币</br><font>（等价58元）</font></span>\n\t\t                </div>\n\t\t                <div class="pleases">\n\t\t                    <span>随意赏:</span>\n\t\t                    <input type="text" placeholder="请输入整数(单位:元)"/>\n\t\t                    <span>牛币</span>\n\t\t                </div>\n\t\t                <p class="balance clear">\n\t\t                \t<span class="fl" id="support-surplus">可用余额\n\t\t                \t<strong style=\'margin:0 5px; color:red;\' class="balance-value">0</strong>牛币</span>\n\t\t                \t<a href="/html/recharge.htm" class="gopay fr" target="_blank">余额不足？去充值</a>\n\t\t                </p>\n\t\t                <div class="info">\n\t\t                    <span>赠送无悔，概不退款</span>\n\t\t                    <span class="submit fr">立即打赏</span>\n\t\t                </div>\n\t\t            </div>\n\t\t        </div>\n\t\t    </div>'}},function(n,e,t){"use strict";var i=function(n,e){if(!e)return n;for(var t in n)e[t]&&(n[t]=e[t]);return n},r=i,a=function(n){if("string"!=typeof n)return n;var e=n.match(/[\u4e00-\u9fa50-9a-zA-Z，。？：:（）]+/g);return e?e.join(""):n},o=function(n,e){return"string"!=typeof n?n:n.length<e?n:n.substr(0,e)+".."},s=function(n){return"string"!=typeof n?n:n.replace(/<.+?>|&nbsp;/g,"")};n.exports={override:i,isMobile:function(n){return n=n.toString(),/^1[34578][0-9]{9}$/.test(n)},filterHTML:s,limit:o,clean:function(n,e){return o(a(s(n)),e)},extend:r,clear:a,stockPrefix:function(n){return{0:"sz",3:"sz",6:"sh"}[(n=String(n)).substr(0,1)]+n}}},function(n,e,t){"use strict";t(12);t(4);var i={0:"观点打赏",1:"组合",2:"课程",3:"内参订阅",4:"股票提问",5:"直播送礼",6:"vip直播室"};n.exports=function(){var n=null;return{getInstance:function(){return n||(n=function(){var n,e,t,a,o,s,c,d,l,p,u,f={name:"支付名称",price:0,link:"#",finish:!0,success:function(){layer.msg("支付成功")},fail:function(){layer.msg("支付尚未完成")}},h=0,m="balance",g="",x=null;$("body").append(r()),n=$(".pay-confirm-overlay"),e=n.find(".pay-confirm-box"),t=$(".pay-item-confirm"),a=n.find(".pay-item-tip"),o=n.find(".name .value"),s=n.find(".price .value"),$("#pay-confirm-link"),c=n.find(".orderNum-value"),d=n.find(".agree-tip"),n.find(".defray-item"),u=n.find(".type-nb"),n.on("click",".close",function(){$.post("/web/getPayStatus.htm",{orderNum:x},function(n){"1"!=(n=JSON.parse(n)).status||"6"!=n.data&&"1"!=n.data||f.success()}),n.hide(),b()}),a.on("click",".finish",function(){$.post("/web/getPayStatus.htm",{orderNum:x},function(e){"1"!=(e=JSON.parse(e)).status||"6"!=e.data&&"1"!=e.data?(n.velocity("callout.shake",{duration:300}),f.fail(e)):(n.hide().velocity("transition.bounceDownOut",{duration:300}),b(),f.success())})});var b=function(){t.show(),a.hide(),n.find(".defray-item.type-nb").removeClass("disable"),d.hide().find(".tip-wrap").html("")};b();var v={balance:function(){if(+h<1)return layer.msg("余额不足,系统将自动跳转充值页面"),void setTimeout(function(){window.location.href="/html/recharge.htm"},2e3);$.post("/reward/rewardTheacher.htm",{orderNum:l},function(n){"success"!=n||layer.msg("支付成功!")})},wechat:function(){window.open("/html/recharge.htm?pay_type=0&orderNum="+l)},alipay:function(){window.open("/html/recharge.htm?pay_type=1&orderNum="+l)}};return n.on("click",".defray-item",function(){$(this).hasClass("disable")||(m=$(this).data("source"),console.log("=payType=",m),$(this).addClass("thisclass").siblings().removeClass("thisclass"))}),n.on("click",".jump",function(){if(console.log("payType",m),ynIsTeacher)return layer.msg("老师不能购买~");if(d.is(":visible")){var e=d.find("input").is(":checked");if(!e&&3==g)return layer.msg("请先阅读并同意《风险揭示书》《服务使用协议》"),!1;if(!e&&4==g)return layer.msg("请先阅读并同意《约投顾问股服务协议》")}v[m](),p?(t.hide(),a.show()):(n.hide(),b())}),{render:function(t){_.extend(f,t),x=f.orderNum,o.text(i[f.type]),s.text(f.price),c.text(f.orderNum),console.log("=ops=",f),f.useNB?(u.show(),$.getJSON("/useraccount/pay_useraccountDetail.htm",{user_id:ynUserId},function(e){h=+e.balance,n.find(".yn-balance-value").html("可用余额"+e.balance+"牛币"),e.balance<f.price?(n.find(".defray-item.type-wx").click(),n.find(".defray-item.type-nb").addClass("disable")):n.find(".defray-item.type-nb").click()})):this.delBanlance(),this.orderType(f.type),g=f.type,l=f.orderNum,p=f.finish,f.read||d.find("input").attr("checked",!1),n.show().velocity("transition.fadeIn",{duration:300}),e.velocity("transition.swoopIn",{duration:300})},delBanlance:function(){u.hide(),n.find(".defray-item.type-wx").click()},orderType:function(e){3==e&&(d.show(),n.find(".tip-wrap").html('\n                        <a href="/protocol.htm?orderid='+f.orderid+"&referenceid="+f.referenceid+'" class="risk agree" target="_blank"><span class="blue">《风险揭示书》</span></a>\n                        <a href="/agreement.htm?orderid='+f.orderid+"&referenceid="+f.referenceid+'" class="service agree" target="_blank"><span class="blue">《服务使用协议》</span></a>'),this.delBanlance()),4==e&&(d.show(),n.find(".tip-wrap").html('<a href="/ask-agreement.htm" class="ask agree" target="_blank"><span class="blue">《约投顾问股服务协议》</span></a>'))}}}()),n}}}();var r=function(){return' <div class="pay-confirm-overlay">\n        <div class="pay-confirm-box">\n            <div class="title">支付确认</div>\n            <span class="close"></span>\n            <div class="content">\n                <div class="pay-item pay-item-confirm">\n                    <div class="payment">\n                        <div class="price">支付金额<span class="inline fr colorRed">￥<strong class="value inline"></strong></span></div>\n                        <div class="name">订单描述<span class="value fr"></span></div>\n                        <div class="orderNum">订单编号<span class="orderNum-value fr"></span></div>\n                    </div>\n                    <div class="defray-content">\n                        \x3c!-- 余额支付 --\x3e\n                        <div data-source="balance" class="defray-item clear type-nb">\n                            <div class="rounded fr">\n                                <label for="roundedOne"></label>\n                            </div>\n                            <div class="defray_radio defray-balance clear fl">\n                                <div class="apyphoto fl"></div>\n                                <div class="yn_pay fl">\n                                    <p class="pay-title" style="position:relative;top:-6px;">余额支付<i class="balance-icon"></i><i class="balance-arrow"></i><span class="yn_balance"><span class="yn-balance-value"></span><a href="/html/recharge.htm" class="colorRed" target="_blank">去充值</a> </span></p>\n                                </div>\n                            </div>\n                        </div>\n\n                        \x3c!-- 微信支付 --\x3e\n                        <div data-source="wechat" class="defray-item clear type-wx">\n                            <div class="rounded fr">\n                                \x3c!--<input type="radio" id="roundedTwo" name="radio">--\x3e\n                                <label for="roundedTwo" class="label-wx"></label>\n                            </div>\n                            <div class="defray_radio defray-wechat clear fl">\n                                <div class="apyphoto fl"></div>\n                                <div class="yn_pay fl">\n                                    <span class="pay-title">微信支付</span>\n                                </div>\n                            </div>\n                        </div>\n                        \x3c!-- 支付宝 --\x3e\n                        <div data-source="alipay" class="defray-item clear type-alipay">\n                            <div class="rounded fr thisclass ">\n                                \x3c!--<input type="radio" id="roundedThree" name="radio">--\x3e\n                                <label for="roundedThree" class="label-alipay"></label>\n                            </div>\n                            <div class="defray_radio defray-alipay clear fl">\n                                <div class="apyphoto fl"></div>\n                                <div class="yn_pay fl inline">\n                                    <span class="pay-title">支付宝支付</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="agree-tip clear hide">\n                        <span class="agree"><input type="checkbox" checked="checked"/><span class="txt">我已阅读并同意</span></span>\n                        <span class="tip-wrap"><span>\n                    </div>\n                    <div class="submits">\n                        <a id="pay-confirm-link" class="pay-btn jump" target="_blank">确认支付</a>\n                    </div>\n                </div>\n                <div class="pay-item pay-item-tip hide">\n                    <div class="payment">\n                        <p>支付完成前，请不要关闭此支付验证窗口</p>\n                        <p><strong>请在2小时内支付，超时将关闭订单</strong></p>\n                        <div class="submits">\n                            <a class="wrong pay-btn" href="http://us.yuetougu.com/help.htm" target="_blank">支付遇到问题</a>\n                            <a class="finish pay-btn">支付完成</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>'}},function(n,e,t){var i=t(13);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("64911970",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,".hide {\n    display: none;\n}\n\n.fr {\n    float: right;\n}\n\n.color666 {\n    color: #666;\n}\n\n.inline {\n    display: inline-block;\n}\n\n.pay-confirm-overlay {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    background: rgba(0, 0, 0, 0.4);\n    text-align: center;\n    z-index: 10000;\n}\n\n.pay-confirm-box {\n    display: inline-block;\n    margin-top: 200px;\n    background: white;\n    -webkit-border-radius: 2px;\n       -moz-border-radius: 2px;\n            border-radius: 2px;\n    position: relative;\n    width: 500px;\n    text-align: left;\n    margin: auto;\n    margin-top: 245px;\n    -webkit-box-shadow: 7px 4px 20px 0px hsla(0, 0%, 65%, 0.38);\n       -moz-box-shadow: 7px 4px 20px 0px hsla(0, 0%, 65%, 0.38);\n            box-shadow: 7px 4px 20px 0px hsla(0, 0%, 65%, 0.38);\n}\n\n.pay-confirm-box .title {\n    text-align: left;\n    padding: 12px 20px;\n    font-size: 16px;\n    border-bottom: 1px solid rgb(219, 219, 219);\n    font-weight: bold;\n}\n\n.pay-confirm-box .content {\n    padding: 20px 30px 25px;\n}\n\n.pay-confirm-box .close {\n    width: 9px;\n    height: 9px;\n    background: url(/public/v2/base/images/close-icon.png?0730) no-repeat;\n    position: absolute;\n    top: 16px;\n    right: 17px;\n    cursor: pointer;\n}\n\n.payment {\n    padding-bottom: 25px;\n    border-bottom: 1px dashed #cecece;\n}\n\n.pay-item-tip .payment {\n    text-align: center;\n    border-bottom: none;\n    line-height: 26px;\n    color: #666;\n    padding-bottom: 0;\n    font-size: 16px;\n}\n\n.payment .name {\n    font-size: 16px;\n    margin-bottom: 15px;\n}\n\n.payment .price {\n    margin-bottom: 15px;\n    font-size: 16px;\n}\n\n.payment .value {\n    color: #d72612;\n}\n\n.pay-confirm-box .submits {\n    text-align: center;\n    margin-top: 15px;\n}\n\n.pay-confirm-box .pay-btn {\n    display: inline-block;\n    padding: 6px 35px;\n    -webkit-border-radius: 5px;\n       -moz-border-radius: 5px;\n            border-radius: 5px;\n    background: #F6554A;\n    color: white;\n    font-size: 16px;\n    cursor: pointer;\n    margin: 0 10px;\n}\n\n.pay-confirm-box .pay-btn.jump {\n    padding: 9px 20px;\n}\n\n.pay-confirm-box .pay-btn.finish {\n    padding: 6px 46px;\n}\n\n.pay-item-tip .submits {\n    text-align: center;\n    margin-top: 20px;\n}\n\n.pay-item-tip .wrong {\n    background: #a3a2a2;\n}\n\n.agree .blue {\n    color: #1176E8;\n}\n\n.agree input {\n    position: relative;\n    top: 2px;\n    left: -3px;\n}\n\n.agree .txt {\n    color: #999;\n}\n\n.agree-tip {\n    margin-top: 10px;\n    font-size: 12px;\n}\n\n.orderNum-value {\n    color: #666;\n}\n\n\n/*  */\n\n.defray-content {\n    padding: 12px 0 0 0;\n    border-bottom: 1px dashed #cecece;\n}\n\n.defray-item {\n    height: 43px;\n    margin: 12px auto;\n}\n\n.yn_pay {\n    width: 340px;\n    position: relative;\n    top: 4px;\n    color: #333;\n    font-size: 16px;\n}\n\n.type-alipay {\n    background: url(/public/v2/base/images/zhifubao.png?0730) no-repeat;\n    padding-left: 45px;\n}\n\n.type-wx {\n    background: url(/public/v2/base/images/weixin.png?0730) no-repeat;\n    padding-left: 45px;\n}\n\n.type-nb {\n    background: url(/public/v2/base/images/yue.png?0730) no-repeat;\n    padding-left: 45px;\n}\n\n.defray-item .rounded {\n    width: 14px;\n    height: 14px;\n    position: relative;\n    top: 7px;\n    border: 1px solid #B3B3B3;\n    -moz-border-radius: 50px;\n    -webkit-border-radius: 50px;\n    border-radius: 50px;\n}\n\n.defray-item.thisclass .rounded {\n    border: 1px solid #CB1F13;\n}\n\n.rounded label {\n    width: 10px;\n    height: 10px;\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    cursor: pointer;\n    background: #B3B3B3;\n    -moz-border-radius: 50px;\n    -webkit-border-radius: 50px;\n    border-radius: 50px;\n}\n\n.defray-item.thisclass .rounded label {\n    background: #CB1F13;\n}\n\n.defray-item.disable .rounded {\n    background: #cccccc;\n}\n\n.defray-item.disable .rounded label {\n    background: #cccccc;\n}\n\n\n/*.rounded label:after {\n    content: '';\n    width: 11px;\n    height: 7px;\n    position: absolute;\n    top: 5px;\n    left: 4px;\n    border: 3px solid #fcfff4;\n    border-top: none;\n    border-right: none;\n    background: transparent;\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=0);\n    opacity: 0;\n    transition: all .3s;\n    -moz-transform: rotate(-45deg);\n    -ms-transform: rotate(-45deg);\n    -webkit-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n}*/\n\n\n/*.rounded label.disable {\n    background: #D7D7D7;\n}*/\n\n\n/*.rounded label:hover::after {\n    filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=30);\n    opacity: 0.3;\n}*/\n\n\n/*.rounded input[type=radio] {\n     position:relative;\n    top:1px;\n    left:1px;\n    visibility: hidden;\n}*/\n\n\n/*.rounded input[type=radio]:checked+label {\n    background: #CB1F13;\n    top: 1px;\n    left: 1px;\n}*/\n\n\n/*  */\n\n.balance-icon {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    background: url(/public/v2/base/images/balance-icon.png?0730) no-repeat;\n    position: relative;\n    top: 4px;\n    left: 10px;\n}\n\n.yn_balance {\n    color: #666;\n    font-size: 14px;\n    height: 20px;\n    line-height: 20px;\n    border: 1px solid #E7E5E5;\n    border-left: none;\n    -webkit-box-shadow: 5px 3px 10px #ececec;\n       -moz-box-shadow: 5px 3px 10px #ececec;\n            box-shadow: 5px 3px 10px #ececec;\n    padding: 2px 10px;\n}\n\n.balance-arrow {\n    display: inline-block;\n    width: 10px;\n    height: 24px;\n    background: url(/public/images/arrow.png) no-repeat;\n    margin-left: 10px;\n    position: relative;\n    top: 6px;\n    left: 5px;\n}\n\n.pay-confirm-overlay .colorRed {\n    color: #F6554A;\n}\n\n.orderNum {\n    font-size: 16px;\n}\n\n.yn-balance-value {\n    margin-right: 10px;\n}",""])},function(n,e,t){var i=t(15);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("50371e5d",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,'@-webkit-keyframes zoomIn {\n    from {\n        opacity: 0;\n        -webkit-transform: scale3d(0.3, 0.3, 0.3);\n                transform: scale3d(0.3, 0.3, 0.3);\n    }\n    50% {\n        opacity: 1;\n    }\n}\n\n@-moz-keyframes zoomIn {\n    from {\n        opacity: 0;\n        -moz-transform: scale3d(0.3, 0.3, 0.3);\n             transform: scale3d(0.3, 0.3, 0.3);\n    }\n    50% {\n        opacity: 1;\n    }\n}\n\n@-o-keyframes zoomIn {\n    from {\n        opacity: 0;\n        transform: scale3d(0.3, 0.3, 0.3);\n    }\n    50% {\n        opacity: 1;\n    }\n}\n\n@keyframes zoomIn {\n    from {\n        opacity: 0;\n        -webkit-transform: scale3d(0.3, 0.3, 0.3);\n           -moz-transform: scale3d(0.3, 0.3, 0.3);\n                transform: scale3d(0.3, 0.3, 0.3);\n    }\n    50% {\n        opacity: 1;\n    }\n}\n\n.clear:after {\n    content: \'\';\n    display: block;\n    clear: both;\n    _zoom: 1;\n    *zoom: 1;\n}\n\n.zoomIn {\n    -webkit-animation-name: zoomIn;\n       -moz-animation-name: zoomIn;\n         -o-animation-name: zoomIn;\n            animation-name: zoomIn;\n}\n\n* {\n    -webkit-box-sizing: border-box;\n       -moz-box-sizing: border-box;\n            box-sizing: border-box;\n    margin: 0;\n}\n\n#askTeacher-wrap {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.4);\n    display: none;\n}\n\n#askTeacherWindow {\n    position: absolute;\n    top: 30% !important;\n    left: 50% !important;\n    margin-left: -450px !important;\n    border: 1px solid rgb(200, 200, 200);\n    background: white;\n    width: 900px;\n    font-size: 13px;\n    -webkit-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n       -moz-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n            box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n    -webkit-border-radius: 6px;\n       -moz-border-radius: 6px;\n            border-radius: 6px;\n}\n\n#askTeacherWindow .onlyInvite {\n    min-height: 150px;\n    text-align: center;\n}\n\n#askTeacherWindow .onlyInvite button {\n    margin: 20px auto;\n    display: inline-block;\n    width: 100px;\n}\n\n#askTeacherWindow>.close {\n    width: 9px;\n    height: 9px;\n    background: url(/public/v2/base/images/close-icon.png);\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    cursor: pointer;\n}\n\n#askTeacherWindow .left {\n    float: left;\n    width: 65%;\n    border-right: 1px solid rgb(200, 200, 200);\n    padding: 20px;\n}\n\n#askTeacherWindow .right {\n    float: right;\n    width: 35%;\n}\n\n#askTeacherWindow .left .title {\n    position: relative;\n    overflow: hidden;\n    border-left: 3px solid #d72621;\n    padding-left: 10px;\n    margin: 10px 0;\n}\n\n#askTeacherWindow .left .title .name {\n    font-weight: bold;\n    font-size: 16px;\n}\n\n#askTeacherWindow .left .title .times {\n    position: absolute;\n    right: 0px;\n}\n\n#askTeacherWindow .left .title .times .value,\n.aim-times .value {\n    color: #d72621;\n    margin: 0 2px;\n}\n\n#askTeacherWindow .left .invite {\n    width: 100%;\n    height: 38px;\n    border: 1px solid rgb(230, 230, 230);\n    position: relative;\n}\n\n#askTeacherWindow .price {\n    display: inline-block;\n    float: right;\n    height: 36px;\n    line-height: 36px;\n    margin-right: 7px;\n}\n\n#askTeacherWindow .priceNum {\n    color: #DD503F;\n    font-weight: bold;\n    margin: 0 5px;\n}\n\n#askTeacherWindow .left .invite .list {\n    position: absolute;\n    background: white;\n    width: 542px;\n    left: 0;\n    top: 37px;\n    padding: 15px;\n    -webkit-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);\n       -moz-box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);\n            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);\n    border: 1px solid rgb(200, 200, 200);\n    z-index: 100;\n}\n\n#askTeacherWindow .left .invite .list .close {\n    width: 9px;\n    height: 9px;\n    background: url(/public/v2/base/images/close-icon.png);\n    float: right;\n    cursor: pointer;\n}\n\n#askTeacherWindow .left .invite .list .list-wrap {\n    margin-top: 10px;\n    overflow: auto;\n    height: 200px;\n    float: left;\n}\n\n#askTeacherWindow .left .invite .select {\n    height: 36px;\n    line-height: 36px;\n    font-size: 13px;\n    float: left;\n    padding: 0 5px;\n    color: #62a5d9;\n}\n\n#askTeacherWindow .left .invite .select .item {\n    margin-right: 8px;\n}\n\n#askTeacherWindow .left .invite .select .fa {\n    margin-left: 5px;\n    cursor: pointer;\n}\n\n#askTeacherWindow .left .invite input {\n    float: left;\n    padding: 10px;\n    border: none;\n    padding-left: 0;\n}\n\n#askTeacherWindow .left .values {\n    margin: 10px 0;\n}\n\n#askTeacherWindow .left textarea {\n    width: 100%;\n    padding: 10px;\n}\n\n#askTeacherWindow .bottom {\n    /*overflow: hidden;*/\n    position: relative;\n}\n\n#askTeacherWindow .bottom .msg {\n    padding: 0 0 10px 0;\n}\n\n#askTeacherWindow .bottom .msg .msg-code {\n    margin: 0 5px;\n    color: #d72621;\n}\n\n#askTeacherWindow .bottom .msg .fa {\n    margin-right: 5px;\n}\n\n#askTeacherWindow .actions {\n    display: inline-block;\n    float: left;\n    position: relative;\n    width: 300px;\n}\n\n#askTeacherWindow .action.search input {\n    padding: 5px;\n}\n\n#askTeacherWindow .action.search .icon {\n    color: gray;\n    position: relative;\n    left: -25px;\n}\n\n#askTeacherWindow .submit {\n    display: inline-block;\n    float: right;\n}\n\n#askTeacherWindow .submit .wordCount {\n    position: relative;\n    top: 6px;\n    right: 10px;\n}\n\n#askTeacherWindow .right {\n    padding: 25px;\n}\n\n#askTeacherWindow .right .content {\n    overflow: auto;\n}\n\n#askTeacherWindow .right .title {\n    color: #575757;\n    font-size: 15px;\n}\n\n#askTeacherWindow .right .items {\n    overflow: auto;\n    max-height: 278px;\n}\n\n#askTeacherWindow .teacher-item {\n    display: block;\n    overflow: hidden;\n    padding: 10px 0;\n    border-bottom: 1px solid rgb(245, 245, 245);\n    cursor: pointer;\n    float: left;\n    width: 245px;\n}\n\n#askTeacherWindow .teacher-item:hover {\n    background: rgb(245, 245, 245);\n}\n\n#askTeacherWindow .teacher-item:first-child {\n    border-top: none;\n}\n\n#askTeacherWindow .teacher-item .avatar {\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n    float: left;\n    -webkit-border-radius: 2px;\n       -moz-border-radius: 2px;\n            border-radius: 2px;\n}\n\n#askTeacherWindow .teacher-item .avatar img {\n    height: 100%;\n}\n\n#askTeacherWindow .teacher-item .info {\n    float: left;\n    margin-left: 10px;\n}\n\n#askTeacherWindow .teacher-item .info .value {\n    color: #ca2723;\n    margin-right: 10px;\n    margin-left: 5px;\n}\n\n#askTeacherWindow .teacher-item .info .line1 {\n    font-size: 16px;\n    margin-bottom: 10px;\n}\n\n#askTeacherWindow .teacher-item .info .line2 {\n    font-size: 13px;\n    color: gray;\n}\n\n#askTeacherWindow input,\n#askTeacherWindow textarea {\n    outline: none;\n    resize: none;\n    border: 1px solid rgb(235, 235, 235);\n}\n\n.submit button {\n    color: white;\n    font-family: "Hiragino Sans GB", "Hiragino Sans GB W3", "Microsoft YaHei", tahoma, arial;\n    font-size: 12px;\n    padding: 5px 15px;\n    border-width: 1px;\n    border-style: solid;\n    -webkit-border-image: initial;\n       -moz-border-image: initial;\n         -o-border-image: initial;\n            border-image: initial;\n    -webkit-border-radius: 2px;\n       -moz-border-radius: 2px;\n            border-radius: 2px;\n    background: rgb(215, 38, 33);\n    border-color: rgb(215, 38, 33);\n}\n\n\n/* 次数用完 */\n\n#askNoTimesWin {\n    width: 470px;\n    background: #fff;\n    -webkit-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n       -moz-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n            box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n    text-align: center;\n    padding: 20px 0;\n    position: fixed;\n    top: 220px;\n    left: 50%;\n    margin-left: -235px;\n    z-index: 1000;\n}\n\n#askNoTimesWin .goLiveRoom {\n    display: block;\n    width: 140px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    color: #fff;\n    background: #F03333;\n    margin: 40px auto 0 auto;\n    -webkit-border-radius: 4px;\n       -moz-border-radius: 4px;\n            border-radius: 4px;\n    cursor: pointer;\n    text-decoration: none;\n}\n\n#askNoTimesWin .ask-icon {\n    margin: 20px auto;\n}\n\n#askNoTimesWin .ask-tip {\n    margin: 10px auto;\n    color: #666;\n    font-size: 15px;\n}\n\n#askNoTimesWin .ask-close {\n    float: right;\n    position: relative;\n    right: 10px;\n    top: -9px;\n    cursor: pointer;\n}\n\n\n/*askSuccess*/\n\n#askSuccess {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.4);\n    z-index: 998;\n    display: none;\n    cursor: pointer;\n}\n\n#askSuccess .askSuccess-wrap {\n    width: 391px;\n    background: #fff;\n    -webkit-border-radius: 4px;\n       -moz-border-radius: 4px;\n            border-radius: 4px;\n    -webkit-box-shadow: 0px 0px 4px rgba(102, 102, 102, 0.73);\n       -moz-box-shadow: 0px 0px 4px rgba(102, 102, 102, 0.73);\n            box-shadow: 0px 0px 4px rgba(102, 102, 102, 0.73);\n    position: absolute;\n    top: 30%;\n    left: 50%;\n    margin-left: -195px;\n    text-align: center;\n    padding: 28px 0;\n    font-size: 16px;\n    color: #666666;\n}\n\n#askSuccess .askSuccess-img {\n    width: 60px;\n    height: 60px;\n    background: url("/public/v2/base/images/askSuccess.png") no-repeat;\n    margin: 0 auto 15px auto;\n}\n\n#askSuccess .askSuccess-text {\n    margin: 12px auto 0 auto;\n}\n\n#askSuccess .askSuccess-text.first {\n    margin-bottom: 18px;\n}\n\n#askSuccess .askSuccess-red {\n    color: #DD503F;\n}\n\n\n/*提问某个投顾*/\n\n#askAimed-wrap {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.4);\n    display: none;\n    z-index: 1;\n}\n\n#askAimedTeacher {\n    width: 534px;\n    /*height: 257px;*/\n    padding: 20px 25px;\n    background: #fff;\n    position: fixed;\n    top: 30%;\n    left: 50%;\n    margin-left: -277px;\n    -webkit-border-radius: 6px;\n       -moz-border-radius: 6px;\n            border-radius: 6px;\n    -webkit-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n       -moz-box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n            box-shadow: 2px 2px 20px rgba(0, 0, 0, 0.3);\n}\n\n#askAimedTeacher .aim-close-win {\n    width: 9px;\n    height: 9px;\n    background: url(/public/v2/base/images/close-icon.png);\n    float: right;\n    cursor: pointer;\n    position: relative;\n    top: -10px;\n    right: -15px;\n}\n\n#askAimedTeacher .aim-title {\n    position: relative;\n    overflow: hidden;\n    border-left: 3px solid #d72621;\n    padding-left: 10px;\n    font-size: 16px;\n}\n\n#askAimedTeacher .aim-times {\n    float: right;\n    font-size: 12px;\n    color: #333;\n    position: relative;\n    top: 2px;\n}\n\n#askAimedTeacher #textarea {\n    width: 100%;\n    height: 150px;\n    padding: 13px;\n    font-size: 13px;\n    line-height: 19px;\n}\n\n#askAimedTeacher .aim-content {\n    margin: 14px auto 14px auto;\n}\n\n#askAimedTeacher .aim-bottom {\n    /* position: relative;\ntop: -5px;*/\n}\n\n#askAimedTeacher .aim-line {\n    display: inline-block;\n    float: right;\n    font-size: 14px;\n}\n\n#askAimedTeacher .aim-word,\n#askAimedTeacher .aim-price {\n    color: #999999;\n    margin: 0 5px;\n}\n\n#askAimedTeacher .aim-num,\n.aim-value {\n    color: #DD503F;\n}\n\n#askAimedTeacher .aim-red {\n    color: #DD503F;\n    margin-left: 5px;\n}\n\n#askAimedTeacher .aim-submit {\n    display: inline-block;\n    width: 57px;\n    height: 31px;\n    line-height: 31px;\n    text-align: center;\n    color: #fff;\n    background: rgba(215, 38, 33, 1);\n    -webkit-border-radius: 2px;\n       -moz-border-radius: 2px;\n            border-radius: 2px;\n    cursor: pointer;\n}\n\n#askAimedTeacher #stockCode {\n    display: inline-block;\n    width: 122px;\n    height: 29px;\n    background: rgba(255, 255, 255, 1);\n    font-size: 12px;\n    padding-left: 5px;\n}\n\n#askAimedTeacher .aim-msg {\n    margin-bottom: 10px;\n}\n\n#askAimedTeacher .msg-code {\n    margin: 0 5px;\n    color: #d72621;\n}',""])},function(module,exports,__webpack_require__){"use strict";module.exports=function(code,ops){var defer=$.Deferred();ops=_.extend({handle:!1,color:!1},ops);var reg=/[0-9]{6,}/;if(!reg.test(String(code)))return yn.log("yn.queryStock : stock code is error..."),defer.reject();var prefixs={0:"sz",3:"sz",6:"sh"},prefix=prefixs[String(code).substr(0,1)];return $.ajax({cache:!0,url:"http://hq.sinajs.cn/list="+prefix+code,type:"GET",dataType:"script",success:function success(data){var res=eval("hq_str_"+prefix+code+'.split(",")');if(res.length<5)return defer.reject();if(0===parseInt(res[3])&&(res[3]=res[2]),ops.handle){res=_.map(res,function(n){var e=parseFloat(n);return 0===e?"---":e?yn.setDecimal(n):n}),res[33]=yn.setDecimal((res[3]-res[2])/res[2]*100),res[34]=yn.setDecimal(res[3]-res[2]),res[35]=yn.setDecimal(1.1*res[1]),res[36]=yn.setDecimal(.9*res[1]),res[8]=yn.setDecimal(res[8]/1e6)+"万手",res[9]=function(){if("---"==res[9])return"---";var n=res[9]/1e4;return n=n>1e4?yn.setDecimal(n/1e4)+"亿元":yn.setDecimal(n)+"万元"}();var now=res[1];ops.color&&(res[1]=yn.colorValue(res[1],{right:res[2]}),res[3]=yn.colorValue(res[3],{left:res[34]}),res[4]=yn.colorValue(res[4],{right:now}),res[5]=yn.colorValue(res[5],{right:now}),res[33]=yn.colorValue(res[33],{suffix:"%"}),res[34]=yn.colorValue(res[34]),res[35]=yn.colorValue(res[35],{right:now}),res[36]=yn.colorValue(res[36],{right:now}))}defer.resolve(res)}}),defer.promise()}},function(n,e,t){"use strict";t(18);var i=t(20);n.exports=function(){var n,e={},t=function(){return{render:function(n){n=_.extend({listLen:5,left:0,top:0,onSelect:function(){}},n);var t={trigger:null,left:null,top:null,parent:null,$list:null};e[n.id]?_.extend(t,e[n.id]):(t.trigger=$("#"+n.id),t.left=n.left+"px",t.top=t.trigger.height()+n.top+"px",t.parent=t.trigger.parent(),t.parent.append('<div class="ynStcokListSpacial absolute" style="left:'+t.left+";top:"+t.top+'"></div>'),t.$list=t.parent.find(".ynStcokListSpacial"),e[n.id]=t),$(document).click(function(){return t.$list.hide()}),t.parent.on("click","tr.ynStockList",function(){t.$list.hide();var e=$(this).find(".stock_code").text(),i=$(this).find(".stock_name").text(),r=$(this).find(".pinyin").text();return n.onSelect({stockCode:e,stockName:i,stockPinyin:r,stockWrap:"$"+e+i+"$"},t.trigger),!1}),t.trigger.on("keyup",_.debounce(function(){var e=$(this).val();!function(n){var e=/^[a-zA-Z]{2,5}$/.test(n),t=/^[036][0-9]{2,5}$/.test(n);return e||t}(e)?t.$list.hide():function(n,e){var t="query-stock-"+n,r=i.get(t,{timeout:604800});r&&r.valid?e(r.data):$.getJSON("/queryStock.htm?stockcode="+n,function(n){if(n&&n.length>0){var r=_.take(n,10);e(r),i.set(t,r)}})}(e,function(e){var i=_.take(e,+n.listLen);t.$list.show().html(function(n,e){var t={0:"深市",3:"深市",6:"沪市"};return"<table>"+_.map(n,function(n){return'<tr class="ynStockList"> \n                            <td class="place">'+t[String(n.stockcode).substr(0,1)]+'</td> \n                            <td class="stock_code">'+n.stockcode+'</td> \n                            <td class="stock_name">'+n.stockname+'</td> \n                            <td class="pinyin">'+n.pinyin+"</td> \n                          </tr>"}).join("")+"</table>"}(i))})},300,{leading:!1,trailing:!0}))}}};return{get:function(){return n||(n=t()),n}}}()},function(n,e,t){var i=t(19);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("60565a7d",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,"#ynStcokListSpacial {\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n       -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n    border: 2px solid #3274D8;\n    background: white;\n    display: none;\n    position: fixed;\n    overflow: hidden;\n    z-index: 50000\n}\n#ynStcokListSpacial tr{\n\n}\n#ynStcokListSpacial .ynStockList td {\n    padding: 8px 15px;\n    cursor: pointer;\n}\n\n#ynStcokListSpacial .ynStockList:hover td,\n#ynStcokListSpacial .ynStockList:first-child td {\n    background: #3274D8;\n    color: white;\n}\n\n\n/* after */\n\n.ynStcokListSpacial {\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n       -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\n    border: 2px solid #3274D8;\n    background: white;\n    display: none;\n    position: absolute;\n    z-index: 50000;\n    top: 0;\n    left: 0;\n}\n\n.ynStcokListSpacial .ynStockList td {\n    padding: 8px 15px;\n    cursor: pointer;\n    line-height:20px;\n}\n\n.ynStcokListSpacial .ynStockList:hover td,\n.ynStcokListSpacial .ynStockList:first-child td {\n    background: #3274D8;\n    color: white;\n}\n",""])},function(n,e,t){"use strict";var i=window.JSON||!1,r=localStorage;n.exports={set:function(n,e){i&&n&&(e=[_.now(),i.stringify(e)].join("@@@@"),r.setItem(n,e))},get:function(n,e){if(i&&n){e=_.extend({disable:!1,timeout:3e3},e);var t=r.getItem(n);if(t&&/@@@@/.test(t)){var a=t.split("@@@@");try{var o=i.parse(a[1]),s=a[0],c=!e.disable&&_.now()-s<=1e3*e.timeout}catch(n){o=[],c=!1}return{data:o,valid:c}}}},joinKey:function(n){var e=[];for(var t in n)e.push(String(n[t]));return e.join("")}}},function(n,e,t){"use strict";var i=t(22);t(23);n.exports=function(){var n,e,t,r,a=0,o=1,s={0:"待回答",1:"已回答",2:"已忽略",3:"已过期"},c={0:"list-item-template",1:"list-chat-template",2:"list-item-template",3:"list-item-template"};return{init:function(){var s=this;n=$("#teacher-ask-win"),t=n.find(".ask-items"),e=n.find(".totalCount"),(r=yn.bootpag($(".teacher-ask-container"))).on("page",function(n,e){o=e,s.render({currentPage:e,noteType:a})}),n.click(function(){n.hide(),a=0,n.find(".menu-item").removeClass("select"),n.find(".menu-item.wait").addClass("select"),i.hidden()}),n.on("click",".teacher-ask-wrap",function(){return!1}),n.on("click",".menu-item",function(){$(this).hasClass("select")||($(this).addClass("select").siblings().removeClass("select"),a=$(this).data("type"),s.render({currentPage:1,noteType:a}))}),n.on("click",".ignoreButton",function(){var n=this;layer.confirm("确定忽略该提问吗",function(){var e=$(n).data("noteid");$.post("/consultation/updateNoteIsReply.htm",{noteid:e},function(n){1==(n=JSON.parse(n)).status&&(layer.msg("已忽略"),setTimeout(function(){s.render({currentPage:o,noteType:a})},1e3))})})}),n.on("click",".askButton",function(){var n=$(this).parents(".list-item").find(".questioncontent").text(),e=$(this).data("noteid"),t=$(this).data("code"),r=$(this).data("name"),c=$(this).data("number");i.render(e,{stockName:r,stockCode:t,number:c,question:n,success:function(){s.render({currentPage:o,noteType:a})}})})},render:function(i){n.show(),function(n){n=_.extend({pageSize:10,currentPage:1,noteType:0},n);var e=$.Deferred();return $.getJSON("/consultation/teacherNoteType.htm",n,function(t){if(1!=t.status)return layer.msg(error[t.status]);t.pageNubmer=_.max([1,Math.ceil(+t.data.total/n.pageSize)]),e.resolve(t)}),e.promise()}(i=_.extend({pageSize:10,currentPage:1,noteType:0},i)).done(function(n){t.html(template(c[a],function(n){return _.map(n,function(n){return n.questiontime=n.questiontime?yn.timeFormat(n.questiontime):"",n.answercontent=n.answercontent?yn.filterHTML(n.answercontent):"",n.zancount=n.zancount||"0",n.price=n.questionPrice?n.questionPrice:0,n.overdue=3==n.is_reply?"hide":"",n.ignore=2==n.is_reply?"hide":"",n.answercontent&&n.answercontent.length>50?n._answercontent=n.answercontent.substr(0,50)+"..":n._answercontent=n.answercontent,n.questioncontent&&n.questioncontent.length>50?n._questioncontent=n.questioncontent.substr(0,50)+"..":n._questioncontent=n.questioncontent,n})}(n.data.list))),r.bootpag({page:i.currentPage,total:n.pageNubmer}),e.html("共有"+n.data.total+"条提问"+s[a])})}}}(),$(function(){i.init({isPop:!1})})},function(n,e,t){"use strict";t(2);n.exports={container:null,wrap:null,stock:null,question:null,judge:null,judgeStock:null,category:null,noteid:null,ue:null,stockName:null,stockCode:null,replys:[],close:null,isPop:!1,trend:null,answerCount:0,handler:{submit:function(){window.location.reload()}},init:function(n){var e=this;this.set(),(n=_.extend({isPop:!1},n)).isPop&&(this.isPop=!0,this.showPop()),this.event();var t=yn.noteTypeTag();this.category.find(".items").html(t),this.ue=UE.getEditor("answerWindow-edit",{toolbars:[["forecolor"]],initialFrameHeight:200,elementPathEnabled:!1,wordCount:!1,enableContextMenu:!1,enableAutoSave:!1,pasteplain:!0}),yn.showStockList(this.stock,{onSelect:function(n){e.stock.val(""),e.ue.focus(!0),e.ue.execCommand("insertHtml",'<span syle="color:red;font-weight:bold" class="stockWrap">'+n.stockWrap+"</span>")}})},set:function(){this.container=$("#answerWindow"),this.stock=this.container.find(".search input"),this.judge=this.container.find(".judge"),this.judgeStock=this.judge.find(".value"),this.category=this.container.find(".category"),this.close=this.container.find(".close-window"),this.wrap=this.container.find(".answerWindow-wrap"),this.question=this.wrap.find("> .question")},render:function(n,e){n?(e=_.extend({stockName:null,stockCode:null,question:null,replys:[],number:null,answerCount:0},e),this.success=e.success||function(n){return n},-1==_.indexOf(e.replys,ynTeacherId)&&(+e.answerCount>0?this.category.hide():this.category.show(),this.isPop&&yn.bodyScroll(!1),e.question&&this.question.html(e.question).show(),this.noteid=n,this.stockCode=e.stockCode,this.stockName=e.stockName,this.number=e.number,this.replys=e.replys,this.trend=null,this.answerCount=e.answerCount,this.stockCode&&(this.judgeStock.text(this.stockCode+this.stockName),this.judge.show()),this.container.slideDown())):layer.msg("noteid is null...")},pickUpCode:function(n,e){var t=this,i=n.match(/[0-9]{6}/g);if(i){var r=_.find(i,function(n){return yn.isStockCode(n)});r&&yn.queryStock(r).done(function(n){n&&n.length>6&&(t.stockcode=r,t.stockname=n[0],e(r+n[0]))})}},showPop:function(){var n=$(window).width(),e=$(window).height(),t=(n-800)/2,i=(e-this.container.height())/2-150;this.close.show(),this.wrap.css({width:800,left:t,position:"fixed",background:"white",top:i}),this.container.css({width:n+"px",height:e+"px",left:0,top:0,position:"fixed",backgroundColor:"rgba(0,0,0,0.5)"})},disappear:function(){this.container.hide(),this.ue.setContent("")},event:function(){var n=this;this.container.on("click",".submit",_.debounce(function(){n.submit()},3e3,{leading:!0,trailing:!1})),this.container.on("click",".category .item",function(){$(this).parent().find(".select").removeClass("select"),$(this).toggleClass("select")}),this.container.on("click",".judge-item",function(){$(this).toggleClass("select");var e=$(this).data("id"),t=+!+$(this).data("id");$(".judge-item"+t).removeClass("select"),n.trend=e}),this.container.on("click",".close-window",function(){n.container.hide(),n.reset(),yn.bodyScroll(!0)})},reset:function(){this.judge.find(".select").removeClass("select"),this.category.find(".select").removeClass("select"),this.ue.setContent(""),this.stock.val(""),this.judge.hide()},submit:function(){var n=this;if(""!=this.ue.getContent().trim())if(this.category.find(".item.select").length>0||0!=this.answerCount){this.container.hide();var e={userid:ynUserId,answeruserid:ynTeacherId,answercontent:this.ue.getContent(),answerusername:ynTeacherName,stock_trend:this.trend,note_type:this.category.find(".item.select").data("id"),noteid:this.noteid,is_reply:1,note_billno:this.number};this.replys.length>0&&(e.is_reply=1),-1==_.indexOf(this.replys,ynTeacherId)?$.post("/consultation/answerNote.htm",e,function(e){"1"==(e=JSON.parse(e)).status&&(layer.msg("回复成功"),n.success())}):layer.msg("您已经回答过, 不能再回答...")}else layer.msg("请选择问题分类");else layer.msg("回答内容不能为空")},hidden:function(){console.log(321),this.reset(),this.container.hide()}}},function(n,e,t){var i=t(24);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("5f0cb3c4",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,'/*问股弹窗*/\r\n\r\n#teacher-ask-win {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    background: rgba(0, 0, 0, .4);\r\n    z-index: 999;\r\n}\r\n\r\n.teacher-ask-wrap {\r\n    width: 800px;\r\n    height: 715px;\r\n    background: #fff;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-left: -400px;\r\n    margin-top: -358px;\r\n    word-break: normal;\r\n}\r\n\r\n\r\n/**/\r\n\r\n.category table {\r\n    width: 100%\r\n}\r\n\r\n.category td {\r\n    text-align: center;\r\n    padding: 18px 0;\r\n    background: #E4E4E4;\r\n    cursor: pointer;\r\n    border-left: 1px solid rgb(200, 200, 200);\r\n    color: #333;\r\n    font-size: 18px;\r\n}\r\n\r\n.category td:first-child {\r\n    border-left: none\r\n}\r\n\r\n.category td.select {\r\n    background: #C81E26;\r\n    color: white;\r\n    border-color: #d72621\r\n}\r\n\r\n.totalCount {\r\n    color: #F6554A;\r\n    font-size: 16px;\r\n    padding: 20px 28px;\r\n}\r\n\r\n.teacher-ask-wrap .ask-items {\r\n    padding: 0 28px;\r\n    height: 520px;\r\n    overflow: auto;\r\n}\r\n\r\n.list-question {\r\n    border-bottom: 1px dotted #ececec;\r\n    padding-bottom: 15px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.list-item {\r\n    display: block;\r\n    padding: 15px 0;\r\n    background: rgba(247, 247, 247, 1);\r\n    padding: 15px 10px;\r\n    margin-bottom: 15px;\r\n    word-break: break-all;\r\n}\r\n\r\n.list-item .line1 .ask-icon {\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    background: url(/public/images/live/q_icon.png) no-repeat;\r\n    position: relative;\r\n    top: 3px\r\n}\r\n\r\n.list-item .line1 .answer-icon {\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    background: url(/public/images/live/a_icon.png) no-repeat;\r\n    position: relative;\r\n    top: 3px\r\n}\r\n\r\n.list-item .line1 .value {\r\n    width: 694px;\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    color: #666;\r\n    line-height: 24px;\r\n    margin-left: 25px;\r\n    margin-top: -20px;\r\n}\r\n\r\n.list-item .line2 {\r\n    font-size: 12px;\r\n    margin-top: 10px;\r\n    padding-left: 18px;\r\n    position: relative;\r\n    line-height: 25px;\r\n    height: 25px;\r\n}\r\n\r\n.list-item .line2>* {\r\n    margin: 0 5px;\r\n    color: #999;\r\n}\r\n\r\n.askPrice {\r\n    color: #DD503F;\r\n    margin: 0 5px;\r\n}\r\n\r\n.list-item .line2 .time {\r\n    color: gray\r\n}\r\n\r\n.list-item .line2 .answerCount {\r\n    position: absolute;\r\n    right: 80px\r\n}\r\n\r\n.list-item .line2 .answerCount .value {\r\n    color: #d72621\r\n}\r\n\r\n.list-item .line2 .askButton {\r\n    width: 62px;\r\n    height: 24px;\r\n    text-align: center;\r\n    line-height: 23px;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    margin-left: 20px;\r\n    border: 1px solid #F6554A;\r\n    -webkit-border-radius: 3px;\r\n       -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n    color: #d72621;\r\n    font-size: 12px;\r\n    cursor: pointer\r\n}\r\n\r\n.list-item .line2 .askButton:hover {\r\n    background: #F6554A;\r\n    color: white;\r\n    -webkit-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    transition: all 0.3s\r\n}\r\n\r\n.list-item .line2 .ignoreButton {\r\n    width: 62px;\r\n    height: 24px;\r\n    text-align: center;\r\n    line-height: 23px;\r\n    position: absolute;\r\n    right: 73px;\r\n    top: 0;\r\n    margin-left: 20px;\r\n    border: 1px solid #5EA5F5;\r\n    -webkit-border-radius: 3px;\r\n       -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n    color: #5EA5F5;\r\n    font-size: 12px;\r\n    cursor: pointer\r\n}\r\n\r\n.list-item .line2 .ignoreButton:hover {\r\n    background: #5EA5F5;\r\n    color: white;\r\n    -webkit-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    transition: all 0.3s\r\n}\r\n\r\n.list-question .line2 {\r\n    text-align: right;\r\n}\r\n\r\n\r\n/*个人中心回答问股弹窗*/\r\n\r\n.teacher-ask-container {\r\n    position: relative;\r\n    height: 100%;\r\n}\r\n\r\n#answerWindow {\r\n    background: rgba(242, 242, 242, 1);\r\n    -webkit-border-radius: 4px;\r\n       -moz-border-radius: 4px;\r\n            border-radius: 4px;\r\n    position: absolute;\r\n    width: 100%;\r\n    left: 0;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    -webkit-box-shadow: 2px 0px 8px rgba(6, 13, 36, 0.36);\r\n       -moz-box-shadow: 2px 0px 8px rgba(6, 13, 36, 0.36);\r\n            box-shadow: 2px 0px 8px rgba(6, 13, 36, 0.36);\r\n}\r\n\r\n#answerWindow .answerWindow-wrap {\r\n    -webkit-border-radius: 5px;\r\n       -moz-border-radius: 5px;\r\n            border-radius: 5px;\r\n    overflow: hidden;\r\n}\r\n\r\n#answerWindow .question {\r\n    background: none;\r\n    padding: 10px 20px;\r\n    font-size: 14px;\r\n    line-height: 24px;\r\n    color: #666666;\r\n}\r\n\r\n#answerWindow .title {\r\n    position: relative;\r\n    padding: 10px;\r\n    border-bottom: none;\r\n    overflow: hidden;\r\n    padding-left: 20px;\r\n}\r\n\r\n#answerWindow .title .close-window {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 10px;\r\n    width: 12px;\r\n    height: 12px;\r\n    background: url(/public/images/live/cha.png);\r\n    cursor: pointer\r\n}\r\n\r\n#answerWindow .title .icon-title {\r\n    float: left;\r\n    font-size: 16px;\r\n    position: relative;\r\n    top: 4px;\r\n    margin-right: 5px\r\n}\r\n\r\n#answerWindow .title .name,\r\n#answerWindow .category .name {\r\n    font-size: 16px;\r\n    color: #333;\r\n}\r\n\r\n#answerWindow .title .name:before,\r\n#answerWindow .category .name:before {\r\n    display: inline-block;\r\n    content: "";\r\n    width: 3px;\r\n    height: 15px;\r\n    background: #DD503F;\r\n    margin-right: 5px;\r\n    position: relative;\r\n    top: 2px;\r\n}\r\n\r\n#answerWindow .content {\r\n    padding: 15px 20px 10px;\r\n}\r\n\r\n#answerWindow .category {\r\n    margin-bottom: 15px\r\n}\r\n\r\n#answerWindow .category .item {\r\n    border: 1px solid #F6554A;\r\n    width: 60px;\r\n    height: 22px;\r\n    text-align: center;\r\n    line-height: 18px;\r\n    margin-right: 16px;\r\n    -webkit-border-radius: 15px;\r\n       -moz-border-radius: 15px;\r\n            border-radius: 15px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: #F6554A;\r\n    -webkit-transition: .3s;\r\n    -o-transition: .3s;\r\n    -moz-transition: .3s;\r\n    transition: .3s;\r\n}\r\n\r\n#answerWindow .category .item.select,\r\n#answerWindow .category .item:hover {\r\n    border-color: #F6554A;\r\n    background: #F6554A;\r\n    color: white\r\n}\r\n\r\n#answerWindow .judge {\r\n    margin-bottom: 15px\r\n}\r\n\r\n#answerWindow .judge button {\r\n    padding: 3px 10px;\r\n    border-color: gray;\r\n    background: white;\r\n    color: #202020;\r\n    margin: 0 5px\r\n}\r\n\r\n#answerWindow .edui-editor {\r\n    border: 1px solid #ececec;\r\n}\r\n\r\n#answerWindow .judge button.up.select {\r\n    background: #d72621;\r\n    border-color: #d72621;\r\n    color: white\r\n}\r\n\r\n#answerWindow .judge button.down.select {\r\n    background: green;\r\n    border-color: green;\r\n    color: white;\r\n}\r\n\r\n#answerWindow button.submit {\r\n    display: block;\r\n    margin: auto;\r\n    width: 80px;\r\n    height: 31px;\r\n    line-height: 22px;\r\n    color: #fff;\r\n    background: rgba(246, 85, 74, 1);\r\n    border: none;\r\n    -webkit-border-radius: 4px;\r\n       -moz-border-radius: 4px;\r\n            border-radius: 4px;\r\n    text-align: center;\r\n    float: right;\r\n    font-size: 14px;\r\n}\r\n\r\n#answerWindow .bottom {\r\n    margin-top: 10px\r\n}\r\n\r\n#answerWindow .search {\r\n    display: inline-block;\r\n}\r\n\r\n#answerWindow .search input {\r\n    padding: 0 5px;\r\n    width: 112px;\r\n    height: 31px;\r\n    background: #fff;\r\n}\r\n\r\n#answerWindow .search .fa-search {\r\n    position: relative;\r\n    right: 30px;\r\n    color: gray\r\n}',""])},function(n,e,t){"use strict";t(26);var i=t(27),r=t(28);t(29);var a=!0,o=!0,s=($.post("/app/isIdCard.htm",function(n){1==n.status&&(a="false"!=n.data.isCard,o="false"!=n.data.isRisk)},"json"),$(window).width()),c=$(window).height(),d=function(){var n=null,e=function(){var n;$("body").append('<div id="auth-overlay" class="123456">\n        <div id="auth-verify">\n                <div class="title"><span class="value">认证与评估</span> <i class="close fa fa-close"></i></div>\n                    <div class="auth-remind">应证监会要求，同时为了保障您的资金财产安全，请进行实名认证</div>\n                    <div class="auth-remind">认证信息仅作备案使用，不会以任何形式透露给第三方，请放心使</div>\n                <div class="auth-frame card">                 \n                    <div class="form-item verify-form">\n                        <div class="line">\n                            <span class="form-text">真实姓名</span>\n                            <input class="auth-verify-name" type="text" placeholder="填写您身份证上的名字">\n                        </div>\n                        <div class="line">\n                            <span  class="form-text">身份证号</span>\n                            <input class="auth-verify-code" type="text" placeholder="15或18位身份证号码">\n                        </div>\n                        <div class="line submitBar">\n                            <div class="auth-error"></div>\n                            <div class="submit">确认</div>\n                        </div>\n                    </div>\n                    <div class="form-item done">\n                        <div class="result">\n                            <div class="icon-done-big icon"></div>\n                            <p>恭喜您认证成功!</p>\n                        </div>\n                        <div class="to-btn"><span class="count-down">4</span>秒后开始风险评估</div>\n                    </div>\n                </div>\n                <div class="auth-frame appraisal">\n                    <div class="appraisal-tip">只需一次风险评估，方便我们为您更好地服务！</div>\n                    <div class="appraisal-btn">去评估</div>\n                </div>\n            </div></div>');var e=$("#auth-verify"),t=e.find(".auth-frame.card"),d=e.find(".auth-frame.appraisal"),l=e.find(".verify-form"),p=e.find(".form-item.done"),u=e.find(".auth-error"),f=e.find(".auth-verify-name"),h=e.find(".auth-verify-code"),m=e.find(".submit"),g=$("#auth-overlay");g.css({width:s+"px",height:c+"px"}),function(n){var e=n.outerWidth(),t=n.outerHeight();n.css({left:(s-e)/2+"px",top:(c-t)/2-250+"px"})}(e);var x=function(n){u.text(n),u.addClass("shake"),setTimeout(function(){u.removeClass("shake")},1e3)},b=function(){window.location.href="/backstage/myAppraisal.htm?jump="+window.location.href};return a?d.show():t.show(),t.find("input").focus(function(){u.text("")}),e.on("click",".close",function(){g.hide(),u.text(""),f.val(""),h.val(""),"function"==typeof n&&n(!1)}),e.on("click",".appraisal-btn",function(){b()}),m.on("click",function(){var n=f.val().replace(/^\s+|\s+$/,""),t=h.val().replace(/^\s+|\s+$/,""),o=/^[\u4e00-\u9fa5\.]{2,20}$/.test(n),s=i(t);return o?s?void $.post("/app/verificationIdCard.htm",{username:n,idCard:t},function(n){return 1==n.status||90001==n.status?(a=!0,a=!0,e.find(".close").hide(),p.show(),l.hide(),void r.run({$el:e.find(".count-down"),done:function(){b()}})):9e4==n.status?x("还有"+n.data.validateCount+"次认证机会"):90004==n.status?x("认证次数已用完，请明天再试"):void(90005==n.status&&layer.msg("身份证绑定用户数已达上限"))},"json"):x("请填写有效身份证号"):x("真实姓名为中文汉字(2-20)")}),{render:function(e,t){if("none"!=t){if(n=e,console.log("=969696",o&&a),o&&a)return console.log(8520),void("function"==typeof n&&n(!0));g.show()}else e(!0)}}};return{get:function(){return n||(n=e()),n}}}();n.exports=d},function(n,e,t){"use strict";n.exports={ajax:function(n,e,t){"function"==typeof e&&(t=e,e={}),$.ajax({url:n,data:e,dataType:"json",success:function(n){t(n)},error:function(n){console.log("===err",n)}})},getJSON:function(n,e,t){"function"==typeof e&&(t=e,e={}),$.getJSON(n,e,function(n){t(n)})},postJSON:function(n,e,t){"function"==typeof e&&(t=e,e={}),$.post(n,e,function(n){t(n)},"json")},post:function(n,e,t){"function"==typeof e&&(t=e,e={}),$.post(n,e,function(n){t(n)})}}},function(n,e,t){"use strict";n.exports=function(n){var e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},t=function(n){return!1!==/(^\d{15}$)|(^\d{17}(\d|X)$)/.test(n)},i=function(n){var t=n.substr(0,2);return void 0!=e[t]},r=function(n){var e,t=n.length;if("15"==t){var i=(e=n.match(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/))[2],r=e[3],o=e[4],s=new Date("19"+i+"/"+r+"/"+o);return a("19"+i,r,o,s)}return"18"==t&&(i=(e=n.match(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/))[2],r=e[3],o=e[4],s=new Date(i+"/"+r+"/"+o),a(i,r,o,s))},a=function(n,e,t,i){var r=(new Date).getFullYear();if(i.getFullYear()==n&&i.getMonth()+1==e&&i.getDate()==t){var a=r-n;return a>=3&&a<=100}return!1},o=function(n){if("18"==(n=s(n)).length){var e,t=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),i=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0;for(e=0;e<17;e++)r+=n.substr(e,1)*t[e];return i[r%11]==n.substr(17,1)}return!1},s=function(n){if("15"==n.length){var e,t=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),i=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0;for(n=n.substr(0,6)+"19"+n.substr(6,n.length-6),e=0;e<17;e++)r+=n.substr(e,1)*t[e];return n+=i[r%11]}return n};return function(n){return!!(n&&t(n)&&i(n)&&r(n)&&o(n))}(n=String(n))}},function(n,e,t){"use strict";var i=function(){var n=null,e=null,t=null;return{run:function(r){var a=r.$el,o=r.done;e=(t=a).text(),n=setInterval(function(){var n=+t.text();n>1?(n-=1,t.text(n)):("function"==typeof o&&o(),i.cancel())},1e3)},cancel:function(){clearInterval(n),t.text(e),n=null}}}();n.exports=i},function(n,e,t){var i=t(30);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("c632762c",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,"#auth-verify {\r\n    width: 450px;\r\n    background: white;\r\n    border: 1px solid #ededed;\r\n    -webkit-box-shadow: 8px 7px 13px rgba(201, 201, 201, 0.19);\r\n       -moz-box-shadow: 8px 7px 13px rgba(201, 201, 201, 0.19);\r\n            box-shadow: 8px 7px 13px rgba(201, 201, 201, 0.19);\r\n    -webkit-border-radius: 4px;\r\n       -moz-border-radius: 4px;\r\n            border-radius: 4px;\r\n    margin: auto;\r\n    position: absolute;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n     -ms-user-select: none;\r\n         user-select: none;\r\n}\r\n\r\n#auth-overlay {\r\n    background: white;\r\n    background: rgba(255, 255, 255, 0.21);\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    display: none;\r\n    z-index: 2;\r\n}\r\n\r\n#auth-verify {\r\n    -webkit-animation-name: myZoomIn;\r\n       -moz-animation-name: myZoomIn;\r\n         -o-animation-name: myZoomIn;\r\n            animation-name: myZoomIn;\r\n    -webkit-animation-duration: 0.3s;\r\n       -moz-animation-duration: 0.3s;\r\n         -o-animation-duration: 0.3s;\r\n            animation-duration: 0.3s;\r\n}\r\n\r\n.shake {\r\n    -webkit-animation-name: myShake;\r\n       -moz-animation-name: myShake;\r\n         -o-animation-name: myShake;\r\n            animation-name: myShake;\r\n    -webkit-animation-duration: 0.6s;\r\n       -moz-animation-duration: 0.6s;\r\n         -o-animation-duration: 0.6s;\r\n            animation-duration: 0.6s;\r\n}\r\n\r\n@-webkit-keyframes myZoomIn {\r\n    from {\r\n        -webkit-transform: scale3d(0.1, 0.1, 0.1);\r\n                transform: scale3d(0.1, 0.1, 0.1);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        -webkit-transform: scale3d(1, 1, 1);\r\n                transform: scale3d(1, 1, 1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@-moz-keyframes myZoomIn {\r\n    from {\r\n        -moz-transform: scale3d(0.1, 0.1, 0.1);\r\n             transform: scale3d(0.1, 0.1, 0.1);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        -moz-transform: scale3d(1, 1, 1);\r\n             transform: scale3d(1, 1, 1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@-o-keyframes myZoomIn {\r\n    from {\r\n        transform: scale3d(0.1, 0.1, 0.1);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        transform: scale3d(1, 1, 1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@keyframes myZoomIn {\r\n    from {\r\n        -webkit-transform: scale3d(0.1, 0.1, 0.1);\r\n           -moz-transform: scale3d(0.1, 0.1, 0.1);\r\n                transform: scale3d(0.1, 0.1, 0.1);\r\n        opacity: 0;\r\n    }\r\n    to {\r\n        -webkit-transform: scale3d(1, 1, 1);\r\n           -moz-transform: scale3d(1, 1, 1);\r\n                transform: scale3d(1, 1, 1);\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n@-webkit-keyframes myShake {\r\n    from,\r\n    to {\r\n        -webkit-transform: translate3d(0, 0, 0);\r\n                transform: translate3d(0, 0, 0);\r\n    }\r\n    10%,\r\n    30%,\r\n    50%,\r\n    70%,\r\n    90% {\r\n        -webkit-transform: translate3d(-10px, 0, 0);\r\n                transform: translate3d(-10px, 0, 0);\r\n    }\r\n    20%,\r\n    40%,\r\n    60%,\r\n    80% {\r\n        -webkit-transform: translate3d(10px, 0, 0);\r\n                transform: translate3d(10px, 0, 0);\r\n    }\r\n}\r\n\r\n@-moz-keyframes myShake {\r\n    from,\r\n    to {\r\n        -moz-transform: translate3d(0, 0, 0);\r\n             transform: translate3d(0, 0, 0);\r\n    }\r\n    10%,\r\n    30%,\r\n    50%,\r\n    70%,\r\n    90% {\r\n        -moz-transform: translate3d(-10px, 0, 0);\r\n             transform: translate3d(-10px, 0, 0);\r\n    }\r\n    20%,\r\n    40%,\r\n    60%,\r\n    80% {\r\n        -moz-transform: translate3d(10px, 0, 0);\r\n             transform: translate3d(10px, 0, 0);\r\n    }\r\n}\r\n\r\n@-o-keyframes myShake {\r\n    from,\r\n    to {\r\n        transform: translate3d(0, 0, 0);\r\n    }\r\n    10%,\r\n    30%,\r\n    50%,\r\n    70%,\r\n    90% {\r\n        transform: translate3d(-10px, 0, 0);\r\n    }\r\n    20%,\r\n    40%,\r\n    60%,\r\n    80% {\r\n        transform: translate3d(10px, 0, 0);\r\n    }\r\n}\r\n\r\n@keyframes myShake {\r\n    from,\r\n    to {\r\n        -webkit-transform: translate3d(0, 0, 0);\r\n           -moz-transform: translate3d(0, 0, 0);\r\n                transform: translate3d(0, 0, 0);\r\n    }\r\n    10%,\r\n    30%,\r\n    50%,\r\n    70%,\r\n    90% {\r\n        -webkit-transform: translate3d(-10px, 0, 0);\r\n           -moz-transform: translate3d(-10px, 0, 0);\r\n                transform: translate3d(-10px, 0, 0);\r\n    }\r\n    20%,\r\n    40%,\r\n    60%,\r\n    80% {\r\n        -webkit-transform: translate3d(10px, 0, 0);\r\n           -moz-transform: translate3d(10px, 0, 0);\r\n                transform: translate3d(10px, 0, 0);\r\n    }\r\n}\r\n\r\n#auth-verify .title {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    position: relative;\r\n    font-size: 15px;\r\n    text-indent: 10px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n#auth-verify .close:hover {\r\n    color: red;\r\n}\r\n\r\n#auth-verify .auth-frame {\r\n    padding: 20px 20px 30px 20px;\r\n}\r\n\r\n#auth-verify .form-text {\r\n    font-size: 13px;\r\n    display: inline-block;\r\n    width: 60px;\r\n    text-align: right;\r\n    margin-right: 10px;\r\n}\r\n\r\n#auth-verify .close {\r\n    position: absolute;\r\n    right: 10px;\r\n    cursor: pointer;\r\n    font-size: 15px;\r\n}\r\n\r\n#auth-verify .auth-frame.card .line {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n#auth-verify .auth-frame {\r\n    position: relative;\r\n    display: none;\r\n}\r\n\r\n#auth-verify .auth-frame.card input {\r\n    height: 35px;\r\n    line-height: 35px;\r\n    text-indent: 10px;\r\n    width: 285px;\r\n    display: inline-block;\r\n    -webkit-border-radius: 3px;\r\n       -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n    background: #f7f7f7;\r\n}\r\n\r\n#auth-verify .auth-frame.card .submitBar {\r\n    position: relative;\r\n    text-align: center;\r\n    margin-top: 40px;\r\n}\r\n\r\n#auth-verify .auth-frame.card .auth-error {\r\n    color: red;\r\n    position: absolute;\r\n    bottom: 52px;\r\n    text-align: center;\r\n    width: 100%;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n}\r\n\r\n#auth-verify .auth-frame.card .submit {\r\n    background: #c40f0f;\r\n    width: 320px;\r\n    margin: auto;\r\n    padding: 10px;\r\n    -webkit-border-radius: 4px;\r\n       -moz-border-radius: 4px;\r\n            border-radius: 4px;\r\n    font-size: 15px;\r\n    color: white;\r\n    cursor: pointer;\r\n}\r\n\r\n#auth-verify .auth-frame.card .form-item.done {\r\n    display: none;\r\n    text-align: center;\r\n}\r\n\r\n#auth-verify .form-item.done .icon-done-big {\r\n    background-image: url(/public/sprite/src/done-big.png);\r\n    background-position: 0px 0px;\r\n    width: 84px;\r\n    height: 84px;\r\n    margin: auto;\r\n}\r\n\r\n#auth-verify .form-item.done .to-btn {\r\n    background: #4a4a4a;\r\n    width: 250px;\r\n    padding: 5px;\r\n    -webkit-border-radius: 3px;\r\n       -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n    color: white;\r\n    margin: 15px auto;\r\n}\r\n\r\n#auth-verify .form-item.done p {\r\n    font-size: 15px;\r\n    color: #16d528;\r\n    margin: 10px auto;\r\n}\r\n\r\n#auth-verify .auth-frame.appraisal {\r\n    text-align: center;\r\n}\r\n\r\n#auth-verify .appraisal-btn {\r\n    background: #d31010;\r\n    width: 300px;\r\n    margin: auto;\r\n    padding: 10px;\r\n    -webkit-border-radius: 3px;\r\n       -moz-border-radius: 3px;\r\n            border-radius: 3px;\r\n    margin-top: 15px;\r\n    color: white;\r\n    cursor: pointer;\r\n}\r\n\r\n#auth-verify .auth-remind {\r\n    font-size: 12px;\r\n    color: #8B8B8B;\r\n    text-align: center;\r\n    margin-top: 2px;\r\n}",""])},function(n,e,t){"use strict";t(32);var i=1,r=function(n){var e="pay-animation-"+i++;n=_.extend({id:e,avatar:"http://101.201.41.116:8080/public/upload/user/20160725/20160725152444777.jpg",title:"股友赠送礼物",sub:"鲜花",gift:"http://101.201.41.116:8080/public/upload/gift/20170224/20170224152813910.png",count:"1"},n),$("body").append(function(n){return'<div class="pay-show-item" id="'+n.id+'">\n\t\t\t\t<div class="avatar"><img src="'+n.avatar+'" /></div>\n\t\t\t\t<div class="info">\n\t\t\t\t\t<div class="title">'+n.title+'</div>\n\t\t\t\t\t<div class="sub">'+n.sub+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="gift"><img src="'+n.gift+'" /></div>\n\t\t\t\t<div class="count">\n\t\t\t\t\t<span class="icon">X</span>\n\t\t\t\t\t<span class="value">'+n.count+"</span>\n\t\t\t\t</div>\n\t\t\t</div>"}(n)),this.el=$("#"+e)};r.prototype={animate:function(n){n=_.extend({type:"move",duration:15e3},n);_.range(1,6);this.el.velocity({left:"120%"},{duration:n.duration,complete:function(){null}})}},n.exports=r},function(n,e,t){var i=t(33);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("2b1a9bb0",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,".pay-show-item {\r\n    background: rgba(41, 41, 63, 0.85);\r\n    display: inline-block;\r\n    width: 260px;\r\n    height: 60px;\r\n    margin-top: 20px;\r\n    -webkit-border-radius: 30px;\r\n       -moz-border-radius: 30px;\r\n            border-radius: 30px;\r\n    position: fixed;\r\n    left: -320px;\r\n    top:40%;\r\n}\r\n\r\n.pay-show-item .avatar {\r\n    width: 60px;\r\n    height: 60px;\r\n    overflow: hidden;\r\n    -webkit-border-radius: 50%;\r\n       -moz-border-radius: 50%;\r\n            border-radius: 50%;\r\n}\r\n\r\n.pay-show-item .avatar img {\r\n    width: 100%;\r\n}\r\n\r\n.pay-show-item .info {\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 70px;\r\n    font-size: 17px;\r\n    width: 140px;\r\n    overflow: hidden;\r\n}\r\n\r\n.pay-show-item .title {\r\n    color: white;\r\n    height: 20px;\r\n    overflow: hidden;\r\n    width: 100%;\r\n}\r\n\r\n.pay-show-item .sub {\r\n    color: #ff8d00;\r\n    margin-top: 4px;\r\n    font-size: 16px;\r\n}\r\n\r\n.pay-show-item .gift {\r\n    position: absolute;\r\n    top: -10px;\r\n    right: -15px;\r\n}\r\n\r\n.pay-show-item .count {\r\n    font-size: 35px;\r\n    color: #ff3b01;\r\n    position: absolute;\r\n    right: -70px;\r\n    top: 10px;\r\n}\r\n",""])},function(n,e,t){"use strict";t(35);var i=t(37);n.exports=function(){var n,e={},t=function(){return{render:function(n){n=_.extend({listLen:5,left:0,top:0,onSelect:function(){}},n);var t={trigger:null,left:null,top:null,parent:null,$list:null};e[n.id]?_.extend(t,e[n.id]):(t.trigger=$("#"+n.id),t.left=n.left+"px",t.top=t.trigger.height()+n.top+"px",t.parent=t.trigger.parent(),t.parent.append('<div class="ynStcokListSpacial absolute" style="left:'+t.left+";top:"+t.top+'"></div>'),t.$list=t.parent.find(".ynStcokListSpacial"),e[n.id]=t),$(document).click(function(){return t.$list.hide()}),t.parent.on("click","tr.ynStockList",function(){t.$list.hide();var e=$(this).find(".stock_code").text(),i=$(this).find(".stock_name").text(),r=$(this).find(".pinyin").text();return n.onSelect({stockCode:e,stockName:i,stockPinyin:r,stockWrap:"$"+e+i+"$"},t.trigger),!1}),t.trigger.on("keyup",_.debounce(function(){var e=$(this).val();!function(n){var e=/^[a-zA-Z]{2,5}$/.test(n),t=/^[036][0-9]{2,5}$/.test(n);return e||t}(e)?t.$list.hide():function(n,e){var t="query-stock-"+n,r=i.get(t,{timeout:604800});r&&r.valid?e(r.data):$.getJSON("/queryStock.htm?stockcode="+n,function(n){if(n&&n.length>0){var r=_.take(n,10);e(r),i.set(t,r)}})}(e,function(e){var i=_.take(e,+n.listLen);t.$list.show().html(function(n,e){var t={0:"深市",3:"深市",6:"沪市"};return"<table>"+_.map(n,function(n){return'<tr class="ynStockList"> \n                            <td class="place">'+t[String(n.stockcode).substr(0,1)]+'</td> \n                            <td class="stock_code">'+n.stockcode+'</td> \n                            <td class="stock_name">'+n.stockname+'</td> \n                            <td class="pinyin">'+n.pinyin+"</td> \n                          </tr>"}).join("")+"</table>"}(i))})},300,{leading:!1,trailing:!0}))}}};return{get:function(){return n||(n=t()),n}}}()},function(n,e,t){var i=t(36);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,t(1).default)("4d3ceb50",i,!1,{})},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,"#ynStcokListSpacial {\r\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n       -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n    border: 2px solid #3274D8;\r\n    background: white;\r\n    display: none;\r\n    position: fixed;\r\n    overflow: hidden;\r\n    z-index: 50000\r\n}\r\n\r\n#ynStcokListSpacial .ynStockList td {\r\n    padding: 8px 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n#ynStcokListSpacial .ynStockList:hover td,\r\n#ynStcokListSpacial .ynStockList:first-child td {\r\n    background: #3274D8;\r\n    color: white;\r\n}\r\n\r\n\r\n/* after */\r\n\r\n.ynStcokListSpacial {\r\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n       -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.2);\r\n    border: 2px solid #3274D8;\r\n    background: white;\r\n    display: none;\r\n    position: absolute;\r\n    z-index: 50000;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.ynStcokListSpacial .ynStockList td {\r\n    padding: 8px 15px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ynStcokListSpacial .ynStockList:hover td,\r\n.ynStcokListSpacial .ynStockList:first-child td {\r\n    background: #3274D8;\r\n    color: white;\r\n}\r\n",""])},function(n,e,t){"use strict";var i=window.JSON||!1,r=localStorage;n.exports={set:function(n,e){i&&n&&(e=[_.now(),i.stringify(e)].join("@@@@"),r.setItem(n,e))},get:function(n,e){if(i&&n){e=_.extend({disable:!1,timeout:3e3},e);var t=r.getItem(n);if(t&&/@@@@/.test(t)){var a=t.split("@@@@"),o=i.parse(a[1]),s=a[0];return{data:o,valid:!e.disable&&_.now()-s<=1e3*e.timeout}}}},joinKey:function(n){var e=[];for(var t in n)e.push(String(n[t]));return e.join("")}}}]);